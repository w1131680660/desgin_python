{"version":3,"sources":["webpack:///src/components/shopManagement/shopPerformance/ShopPerformance.vue","webpack:///./src/components/shopManagement/shopPerformance/ShopPerformance.vue?37b6","webpack:///./src/components/shopManagement/shopPerformance/ShopPerformance.vue"],"names":["ShopPerformance","name","props","components","data","menuPlatFormList","menuCountryList","menuSiteList","showCountryList","showSiteList","lastSiteList","performanceList","newPerList","noExamineList","targetList","checkedPlatform","checkedCountry","checkedSite","today","lastDay","yesterday","performanceForm","addTargetDialogVisible","addTargetForm","checkedData","checkedSituation","targetName","enlName","editTodayDialogVisible","editTodayForm","dataType","situation","formRules","required","message","trigger","validator","rule","value","callback","test","checkList","type","checkIndex","value1","examineDialogVisible","examineForm","computed","watch","methods","getMenuList","_this","this","$api","then","res","data1","data2","data3","thirdClick","getNoExamineList","_this2","console","log","onceClick","index","secondClick","platform","country","site","_this3","i","queryPerformence","Date","month","getMonth","day","getDate","getFullYear","setTime","getTime","ymonth","yday","_i","length","reverse","fields","arr","$utils","deepClone","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","get_iterator_default","next","done","splice","err","return","_i2","key","selectChange","val","addTarget","addTargetConfirm","_this4","$refs","addTargetRef","validate","state","formData","FormData","append","$message","success","editToday","editTodayConfirm","_this5","editTarget","examine","examineConfirm","_this6","examineRef","examineNoConfirm","_this7","addTargetClose","resetFields","editTodayClose","editTodayRef","examineClose","inputChange","$forceUpdate","updateChange","_this8","editTodayYester","getPercent","item","created","mounted","shopPerformance_ShopPerformance","render","_vm","_h","$createElement","_c","_self","attrs","id","staticClass","_m","_v","default-active","unique-opened","_l","slot","staticStyle","display","width","on","click","$event","_s","item2","index2","item3","index3","size","font-size","float","border","label","prop","scopedSlots","_u","fn","scope","row","directives","rawName","expression","domProps","change","$index","input","target","composing","$set","title","visible","center","close-on-click-modal","close-on-press-escape","update:visible","close","ref","model","rules","label-width","$$v","placeholder","_e","staticRenderFns","text-align","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/83.1daea997a075c5ead37e.js","sourcesContent":["<template>\r\n  <div id=\"ipi-board\">\r\n    <div class=\"left\">\r\n      <div class=\"title\">\r\n        <h2 style=\"text-align:center\">店铺绩效</h2>\r\n      </div>\r\n      <div class=\"left-content\">\r\n        <h3>请选择店铺</h3>\r\n        <!-- 菜单 -->\r\n        <el-menu\r\n          default-active=\"0-0-0\"\r\n          class=\"el-menu-vertical-demo\"\r\n          unique-opened\r\n        >\r\n          <el-submenu\r\n            :index=\"index + ''\"\r\n            v-for=\"(item, index) in menuPlatFormList\"\r\n            :key=\"index\"\r\n          >\r\n            <template slot=\"title\">\r\n              <span\r\n                style=\"display:inline-block;width:100%\"\r\n                @click=\"onceClick(index)\"\r\n                >{{ item }}</span\r\n              >\r\n            </template>\r\n            <el-submenu\r\n              :index=\"index + '-' + index2\"\r\n              v-for=\"(item2, index2) in showCountryList\"\r\n              :key=\"index2\"\r\n            >\r\n              <template slot=\"title\">\r\n                <span\r\n                  style=\"display:inline-block;width:100%\"\r\n                  @click=\"secondClick(index2)\"\r\n                  >{{ item2 }}</span\r\n                >\r\n              </template>\r\n              <el-menu-item\r\n                :index=\"index + '-' + index2 + '-' + index3\"\r\n                v-for=\"(item3, index3) in lastSiteList\"\r\n                :key=\"index3\"\r\n                @click=\"thirdClick(item, item2, item3)\"\r\n              >\r\n                <span>{{ item3 }}</span>\r\n              </el-menu-item>\r\n            </el-submenu>\r\n          </el-submenu>\r\n        </el-menu>\r\n      </div>\r\n    </div>\r\n    <div class=\"right\">\r\n      <div class=\"top\">\r\n        <h2>最近绩效指标</h2>\r\n        <div class=\"position\">\r\n          <span class=\"position-title\">\r\n            站点：\r\n            <span>{{ checkedSite }}</span>\r\n          </span>\r\n          <span class=\"position-title\">\r\n            国家：\r\n            <span>{{ checkedCountry }}</span>\r\n          </span>\r\n        </div>\r\n      </div>\r\n      <div class=\"button\">\r\n        <el-button type=\"primary\" size=\"mini\" @click=\"editToday\"\r\n          >新增当日指标数据</el-button\r\n        >\r\n        <el-button type=\"primary\" size=\"mini\" @click=\"addTarget\"\r\n          >增加新的指标</el-button\r\n        >\r\n        <el-button type=\"primary\" size=\"mini\" @click=\"examine\"\r\n          >审核指标</el-button\r\n        >\r\n        <span style=\"font-size:0.8rem;float:right\"\r\n          >ps:编辑指标不需要填写单位哦！</span\r\n        >\r\n      </div>\r\n      <div class=\"table\">\r\n        <el-table :data=\"performanceList\" border style=\"width: 100%\">\r\n          <el-table-column\r\n            type=\"index\"\r\n            label=\"序号\"\r\n            width=\"60\"\r\n          ></el-table-column>\r\n          <el-table-column prop=\"4\" label=\"时间\"></el-table-column>\r\n          <el-table-column\r\n            :prop=\"index + 5 + ''\"\r\n            :label=\"getPercent(item)\"\r\n            v-for=\"(item, index) in targetList\"\r\n            :key=\"index\"\r\n          >\r\n            <template slot-scope=\"scope\">\r\n              <div v-if=\"scope.row[4] != today && scope.row[4] != yesterday\">\r\n                <span v-if=\"scope.row[index + 5] != 'undefined'\">{{\r\n                  scope.row[index + 5]\r\n                }}</span>\r\n                <span v-else></span>\r\n                <!-- <span>{{scope.row[4]}}</span> -->\r\n              </div>\r\n              <div v-else>\r\n                <input\r\n                  type=\"number\"\r\n                  v-model=\"scope.row[index + 5]\"\r\n                  @change=\"updateChange(scope.$index)\"\r\n                />\r\n              </div>\r\n            </template>\r\n          </el-table-column>\r\n        </el-table>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- 新增新的指标 -->\r\n    <el-dialog\r\n      title=\"增加新的指标\"\r\n      :visible.sync=\"addTargetDialogVisible\"\r\n      width=\"30%\"\r\n      center\r\n      @close=\"addTargetClose\"\r\n      :close-on-click-modal=\"false\"\r\n      :close-on-press-escape=\"false\"\r\n    >\r\n      <!-- 表单部分 -->\r\n      <el-form\r\n        :model=\"addTargetForm\"\r\n        :rules=\"formRules\"\r\n        ref=\"addTargetRef\"\r\n        label-width=\"120px\"\r\n      >\r\n        <el-form-item label=\"指标名称\" prop=\"targetName\">\r\n          <el-input v-model=\"addTargetForm.targetName\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"指标英文名称\" prop=\"enlName\">\r\n          <el-input v-model=\"addTargetForm.enlName\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"数据类型\" prop=\"checkedData\">\r\n          <el-select v-model=\"addTargetForm.checkedData\" placeholder=\"请选择\">\r\n            <el-option\r\n              v-for=\"(item, index) in dataType\"\r\n              :key=\"index\"\r\n              :label=\"item\"\r\n              :value=\"item\"\r\n            ></el-option>\r\n          </el-select>\r\n        </el-form-item>\r\n        <el-form-item label=\"在什么情况下给主管发工单\" prop=\"checkedSituation\">\r\n          <el-select\r\n            v-model=\"addTargetForm.checkedSituation\"\r\n            placeholder=\"请选择\"\r\n          >\r\n            <el-option\r\n              v-for=\"(item, index) in situation\"\r\n              :key=\"index\"\r\n              :label=\"item\"\r\n              :value=\"item\"\r\n            ></el-option>\r\n          </el-select>\r\n        </el-form-item>\r\n      </el-form>\r\n      <span slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button @click=\"addTargetDialogVisible = false\">取 消</el-button>\r\n        <el-button type=\"primary\" @click=\"addTargetConfirm\">确 定</el-button>\r\n      </span>\r\n    </el-dialog>\r\n\r\n    <!-- 编辑当日指标数据\r\n    -->\r\n    <el-dialog\r\n      :visible.sync=\"editTodayDialogVisible\"\r\n      width=\"30%\"\r\n      center\r\n      @close=\"editTodayClose\"\r\n      :close-on-click-modal=\"false\"\r\n      :close-on-press-escape=\"false\"\r\n      class=\"edit-today-dialog\"\r\n    >\r\n      <!-- 表单部分 -->\r\n      <el-form :model=\"editTodayForm\" ref=\"editTodayRef\" label-width=\"120px\">\r\n        <el-form-item\r\n          :label=\"item[0]\"\r\n          :prop=\"item[1] + index\"\r\n          v-for=\"(item, index) in targetList\"\r\n          :key=\"index\"\r\n        >\r\n          <el-input\r\n            v-model=\"editTodayForm[item[1] + index]\"\r\n            @input=\"inputChange\"\r\n            size=\"small\"\r\n          ></el-input>\r\n        </el-form-item>\r\n      </el-form>\r\n      <span slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button @click=\"editTodayDialogVisible = false\">取 消</el-button>\r\n        <el-button type=\"primary\" @click=\"editTodayConfirm\">确 定</el-button>\r\n      </span>\r\n    </el-dialog>\r\n\r\n    <!-- 审核指标 -->\r\n    <el-dialog\r\n      :visible.sync=\"examineDialogVisible\"\r\n      width=\"30%\"\r\n      center\r\n      @close=\"examineClose\"\r\n      :close-on-click-modal=\"false\"\r\n      :close-on-press-escape=\"false\"\r\n    >\r\n      <!-- 表单部分 -->\r\n      <el-form\r\n        :model=\"examineForm\"\r\n        ref=\"examineRef\"\r\n        label-width=\"140px\"\r\n        :rules=\"formRules\"\r\n      >\r\n        <!-- <el-form-item label=\"未审核的指标：\" prop=\"checkList\">\r\n          <el-checkbox-group v-model=\"examineForm.checkList\">\r\n            <el-checkbox\r\n              :label=\"item[0]\"\r\n              v-for=\"(item,index) in noExamineList\"\r\n              :key=\"index\"\r\n            >{{item[1]}}</el-checkbox>\r\n          </el-checkbox-group>\r\n        </el-form-item>-->\r\n        <el-form-item label=\"未审核的指标：\" prop=\"checkIndex\">\r\n          <el-radio-group\r\n            v-model=\"examineForm.checkIndex\"\r\n            v-if=\"noExamineList.length > 0\"\r\n          >\r\n            <el-radio\r\n              :label=\"item[0]\"\r\n              v-for=\"(item, index) in noExamineList\"\r\n              :key=\"index\"\r\n              >{{ item[1] }}</el-radio\r\n            >\r\n          </el-radio-group>\r\n          <span v-else>暂无未审核的指标</span>\r\n        </el-form-item>\r\n      </el-form>\r\n      <span slot=\"footer\" class=\"dialog-footer\" v-if=\"noExamineList.length > 0\">\r\n        <el-button @click=\"examineNoConfirm\">审核不通过</el-button>\r\n        <el-button type=\"primary\" @click=\"examineConfirm\">审核通过</el-button>\r\n      </span>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n<script>\r\nexport default {\r\n  name: \"\",\r\n  props: {},\r\n  components: {},\r\n  data() {\r\n    let enlName = (rule, value, callback) => {\r\n      let test = /^[a-zA-Z]+$/.test(value);\r\n      if (test) {\r\n        callback();\r\n      } else {\r\n        callback(\"英文名必须全部是英文字母\");\r\n      }\r\n    };\r\n    return {\r\n      // 左侧导航栏菜单\r\n      menuPlatFormList: [],\r\n      menuCountryList: [],\r\n      menuSiteList: [],\r\n      showCountryList: [],\r\n      showSiteList: [],\r\n      lastSiteList: [],\r\n\r\n      // 绩效列表\r\n      performanceList: [\r\n        // [1, \"亚马逊\", \"美国\", \"今汇\", \"12-1\", \"c\", \"100\", \"99\", \"98\"],\r\n        // [2, \"亚马逊\", \"美国\", \"今汇\", \"12-2\", \"c\", \"51\", \"50\", \"52\"],\r\n        // [3, \"亚马逊\", \"美国\", \"今汇\", \"12-3\", \"c\", \"2\", \"3\", \"4\"]\r\n      ],\r\n      newPerList: [],\r\n      // 未审核指标列表\r\n      noExamineList: [],\r\n      // arr:[],\r\n      // 指标名称列表\r\n      targetList: [],\r\n      // 选中的菜单项\r\n      checkedPlatform: \"\",\r\n      checkedCountry: \"\",\r\n      checkedSite: \"\",\r\n\r\n      // 时间\r\n      today: \"\",\r\n      lastDay: \"\",\r\n      // 昨天\r\n      yesterday: \"\",\r\n      performanceForm: [],\r\n      // 新增指标对话框\r\n      addTargetDialogVisible: false,\r\n      addTargetForm: {\r\n        checkedData: \"\",\r\n        checkedSituation: \"\",\r\n        targetName: \"\",\r\n        enlName: \"\"\r\n      },\r\n      // 编辑当日指标数据\r\n      editTodayDialogVisible: false,\r\n      editTodayForm: {},\r\n      // 数据类型\r\n      dataType: [\"数字\", \"百分比\"],\r\n      // 情况\r\n      situation: [\"上升\", \"下降\", \"和以前不一致\"],\r\n      // addTodayRules: {\r\n      //   // IPI  feedback ads_rate revenue\r\n      //   IPI: [\r\n      //     {\r\n      //       message: \"请输入数字\",\r\n      //       trigger: \"blur\",\r\n      //       pattern: /(^\\d+$)|(^\\d+\\.\\d+$)/\r\n      //     }\r\n      //   ],\r\n      //   feedback: [\r\n      //     {\r\n      //       message: \"请输入数字\",\r\n      //       trigger: \"blur\",\r\n      //       pattern: /(^\\d+$)|(^\\d+\\.\\d+$)/\r\n      //     }\r\n      //   ],\r\n      //   ads_rate: [\r\n      //     {\r\n      //       message: \"请输入数字\",\r\n      //       trigger: \"blur\",\r\n      //       pattern: /(^\\d+$)|(^\\d+\\.\\d+$)/\r\n      //     }\r\n      //   ],\r\n      //   revenue: [\r\n      //     {\r\n      //       message: \"请输入数字\",\r\n      //       trigger: \"blur\",\r\n      //       pattern: /(^\\d+$)|(^\\d+\\.\\d+$)/\r\n      //     }\r\n      //   ]\r\n      // },\r\n      formRules: {\r\n        targetName: [\r\n          { required: true, message: \"请输入指标名称\", trigger: \"blur\" }\r\n        ],\r\n        checkedData: [\r\n          { required: true, message: \"请选择数据类型\", trigger: \"change\" }\r\n        ],\r\n        checkedSituation: [\r\n          { required: true, message: \"请选择情况\", trigger: \"change\" }\r\n        ],\r\n        enlName: [{ validator: enlName, trigger: \"blur\" }],\r\n        checkList: [\r\n          {\r\n            type: \"array\",\r\n            required: true,\r\n            message: \"请至少选择一个指标\",\r\n            trigger: \"change\"\r\n          }\r\n        ],\r\n        checkIndex: [\r\n          { required: true, message: \"请选择指标\", trigger: \"change\" }\r\n        ]\r\n      },\r\n      value1: \"\",\r\n      // 审核指标对话框\r\n      examineDialogVisible: false,\r\n      examineForm: {\r\n        // checkList: []\r\n        checkIndex: \"\"\r\n      }\r\n    };\r\n  },\r\n  computed: {},\r\n  watch: {},\r\n  methods: {\r\n    // 获取菜单栏数据\r\n    getMenuList() {\r\n      this.$api.getMenuList().then(res => {\r\n        // console.log(res);\r\n        this.menuPlatFormList = res.data.data1;\r\n        this.menuCountryList = res.data.data2;\r\n        this.menuSiteList = res.data.data3;\r\n        // 页面刷新 先默认展示胤佑的 同时在导航那里添加default-active=\"0-0-0\"\r\n        this.showCountryList = this.menuCountryList[0];\r\n        this.showSiteList = this.menuSiteList[0];\r\n        this.lastSiteList = this.showSiteList[0];\r\n        this.checkedPlatform = this.menuPlatFormList[0];\r\n        this.checkedCountry = this.showCountryList[0];\r\n        this.checkedSite = this.lastSiteList[0];\r\n        this.thirdClick(\r\n          this.checkedPlatform,\r\n          this.checkedCountry,\r\n          this.checkedSite\r\n        );\r\n      });\r\n    },\r\n    // 获取未审核指标\r\n    getNoExamineList() {\r\n      this.$api.getNoExamineList().then(res => {\r\n        console.log(res);\r\n        this.noExamineList = res.data.data;\r\n      });\r\n    },\r\n    onceClick(index) {\r\n      // if(this.platformOnce[index] == \"\") {\r\n      this.showCountryList = [];\r\n      this.showSiteList = [];\r\n      this.showCountryList = this.menuCountryList[index];\r\n      this.showSiteList = this.menuSiteList[index];\r\n      // }\r\n    },\r\n    secondClick(index) {\r\n      // console.log(index);\r\n      this.lastSiteList = [];\r\n      this.lastSiteList = this.showSiteList[index];\r\n    },\r\n    thirdClick(platform, country, site) {\r\n      // 每次点击都要将编辑当日指标数据置空\r\n      for (let i in this.editTodayForm) {\r\n        this.editTodayForm[i] = \"\";\r\n      }\r\n      // this.arr = [];\r\n      // 每次点击三级菜单，都应该让将绩效指标重置为0\r\n      this.performanceList = [];\r\n      this.$api.queryPerformence(platform, country, site).then(res => {\r\n        console.log(res);\r\n        // 获取今日\r\n        this.today = new Date();\r\n        // this.today =\r\n        //   this.today.getFullYear() +\r\n        //   \"-\" +\r\n        //   (this.today.getMonth() + 1) +\r\n        //   \"-\" +\r\n        //   this.today.getDate();\r\n        let month =\r\n          this.today.getMonth() + 1 < 10\r\n            ? \"0\" + (this.today.getMonth() + 1)\r\n            : this.today.getMonth() + 1;\r\n        let day =\r\n          this.today.getDate() < 10\r\n            ? \"0\" + this.today.getDate()\r\n            : this.today.getDate();\r\n        this.today = this.today.getFullYear() + \"-\" + month + \"-\" + day;\r\n        // 获取昨天时间\r\n        this.yesterday = new Date();\r\n        this.yesterday.setTime(this.yesterday.getTime() - 24 * 60 * 60 * 1000);\r\n        // this.yesterday =\r\n        //   this.yesterday.getFullYear() +\r\n        //   \"-\" +\r\n        //   (this.yesterday.getMonth() + 1) +\r\n        //   \"-\" +\r\n        //   this.yesterday.getDate();\r\n        let ymonth =\r\n          this.yesterday.getMonth() + 1 < 10\r\n            ? \"0\" + (this.yesterday.getMonth() + 1)\r\n            : this.yesterday.getMonth() + 1;\r\n        let yday =\r\n          this.yesterday.getDate() < 10\r\n            ? \"0\" + this.yesterday.getDate()\r\n            : this.yesterday.getDate();\r\n        this.yesterday =\r\n          this.yesterday.getFullYear() + \"-\" + ymonth + \"-\" + yday;\r\n        console.log(\"res.data.data\", res.data.data);\r\n        this.performanceList =\r\n          res.data.data.length > 0 ? res.data.data.reverse() : [];\r\n        console.log(\"打印之后\");\r\n        // this.performanceList = res.data.data;\r\n        this.targetList = res.data.fields || [];\r\n        for (let i in this.targetList) {\r\n          this.editTodayForm[this.targetList[i][1] + i] = \"\";\r\n        }\r\n\r\n        if (this.performanceList.length != 0) {\r\n          // 判断最后一列数据的时间是否是当前时间\r\n          this.lastDay = this.performanceList[\r\n            this.performanceList.length - 1\r\n          ][4];\r\n          if (this.lastDay == this.today) {\r\n            console.log(\"一样\");\r\n            let arr = this.$utils.deepClone(this.performanceList);\r\n            for (let item of arr) {\r\n              item.splice(0, 5);\r\n            }\r\n            // console.log(arr);\r\n\r\n            for (let i in this.targetList) {\r\n              if (arr[arr.length - 1][i] !== null) {\r\n                let index = i + 5;\r\n                this.editTodayForm[this.targetList[i][1] + i] =\r\n                  arr[arr.length - 1][i];\r\n              } else {\r\n                this.editTodayForm[this.targetList[i][1] + i] = \"\";\r\n              }\r\n              // this.editTodayForm[this.targetList[i][1] + i] = this.performanceList[this.performanceList.length - 1][i+5];\r\n            }\r\n            // console.log(this.editTodayForm);\r\n\r\n            for (let key in this.editTodayForm) {\r\n              if (this.editTodayForm[key] == \"undefined\") {\r\n                this.editTodayForm[key] = \"\";\r\n              }\r\n            }\r\n          }\r\n        }\r\n      });\r\n      this.checkedPlatform = platform;\r\n      this.checkedCountry = country;\r\n      this.checkedSite = site;\r\n    },\r\n    // 下拉框联合\r\n    selectChange(val) {\r\n      // console.log(val);\r\n    },\r\n    // 新增指标\r\n    addTarget() {\r\n      this.addTargetDialogVisible = true;\r\n    },\r\n    addTargetConfirm() {\r\n      this.$refs.addTargetRef.validate(state => {\r\n        if (!state) return;\r\n        let formData = new FormData();\r\n        formData.append(\"index_name\", this.addTargetForm.targetName);\r\n        formData.append(\"english_name\", this.addTargetForm.enlName);\r\n        formData.append(\"index_type\", this.addTargetForm.checkedData);\r\n        formData.append(\"alert\", this.addTargetForm.checkedSituation);\r\n        this.$api.addTarget(formData).then(res => {\r\n          // console.log(res);\r\n          this.$message.success(\"新增指标成功\");\r\n          this.thirdClick(\r\n            this.checkedPlatform,\r\n            this.checkedCountry,\r\n            this.checkedSite\r\n          );\r\n          this.getNoExamineList();\r\n          this.addTargetDialogVisible = false;\r\n        });\r\n      });\r\n    },\r\n    // 编辑当日指标数据\r\n    editToday() {\r\n      // 清空表单\r\n      this.editTodayForm = {};\r\n\r\n      this.editTodayDialogVisible = true;\r\n    },\r\n    editTodayConfirm() {\r\n      let formData = new FormData();\r\n      formData.append(\"platform\", this.checkedPlatform);\r\n      formData.append(\"country\", this.checkedCountry);\r\n      formData.append(\"site\", this.checkedSite);\r\n      for (let i in this.targetList) {\r\n        let key = this.targetList[i][1] + i;\r\n        formData.append(this.targetList[i][1], this.editTodayForm[key]);\r\n      }\r\n      this.$api.editTarget(formData).then(res => {\r\n        // console.log(res);\r\n        this.thirdClick(\r\n          this.checkedPlatform,\r\n          this.checkedCountry,\r\n          this.checkedSite\r\n        );\r\n      });\r\n      this.editTodayDialogVisible = false;\r\n    },\r\n    // 审核指标\r\n    examine() {\r\n      this.examineDialogVisible = true;\r\n    },\r\n    // 审核通过\r\n    examineConfirm() {\r\n      this.$refs.examineRef.validate(state => {\r\n        if (!state) return;\r\n        this.$api.examine(this.examineForm.checkIndex, \"审核通过\").then(res => {\r\n          // console.log(res);\r\n          this.$message.success(\"审核通过\");\r\n          this.thirdClick(\r\n            this.checkedPlatform,\r\n            this.checkedCountry,\r\n            this.checkedSite\r\n          );\r\n          this.getNoExamineList();\r\n          this.examineDialogVisible = false;\r\n        });\r\n      });\r\n    },\r\n    // 审核不通过\r\n    examineNoConfirm() {\r\n      this.$refs.examineRef.validate(state => {\r\n        if (!state) return;\r\n        this.$api\r\n          .examine(this.examineForm.checkIndex, \"审核不通过\")\r\n          .then(res => {\r\n            // console.log(res);\r\n            this.$message.success(\"审核不通过\");\r\n            this.getNoExamineList();\r\n            this.examineDialogVisible = false;\r\n          });\r\n      });\r\n    },\r\n    // 对话框关闭事件\r\n    addTargetClose() {\r\n      this.$refs.addTargetRef.resetFields();\r\n    },\r\n    editTodayClose() {\r\n      this.$refs.editTodayRef.resetFields();\r\n    },\r\n    examineClose() {\r\n      this.$refs.examineRef.resetFields();\r\n    },\r\n    inputChange(val) {\r\n      // 强制刷新\r\n      this.$forceUpdate();\r\n    },\r\n    /**\r\n     * @description: 编辑昨天或今天的指标\r\n     * @param {*} index\r\n     * @return {*}\r\n     */\r\n    updateChange(index) {\r\n      console.log(index);\r\n      let formData = new FormData();\r\n      formData.append(\"platform\", this.performanceList[index][1]);\r\n      formData.append(\"country\", this.performanceList[index][2]);\r\n      formData.append(\"site\", this.performanceList[index][3]);\r\n      for (let i in this.targetList) {\r\n        formData.append(\r\n          this.targetList[i][1],\r\n          this.performanceList[index][i - 0 + 5]\r\n        );\r\n      }\r\n      formData.append(\"update_date\", this.performanceList[index][4]);\r\n      this.$api.editTodayYester(formData).then(res => {\r\n        console.log(res);\r\n        this.thirdClick(\r\n          this.checkedPlatform,\r\n          this.checkedCountry,\r\n          this.checkedSite\r\n        );\r\n      });\r\n    },\r\n    /**\r\n     * @description: 计算是否显示百分比\r\n     * @param {*} item\r\n     * @return {*}\r\n     */\r\n    getPercent(item) {\r\n      return item[2] === \"百分比\" ? item[0] + \"%\" : item[0];\r\n    }\r\n  },\r\n  created() {\r\n    this.getMenuList();\r\n    this.getNoExamineList();\r\n  },\r\n  mounted() {}\r\n};\r\n</script>\r\n<style scoped>\r\n#ipi-board {\r\n  width: 100vw;\r\n  height: 92vh;\r\n  position: relative;\r\n  /* margin-top: 2vh; */\r\n}\r\n.left {\r\n  position: absolute;\r\n  width: 16vw;\r\n  height: 92vh;\r\n  background-color: rgba(255, 255, 255, 0.9);\r\n  border-right: 1px solid black;\r\n  top: 0;\r\n  left: 0;\r\n  overflow: auto;\r\n}\r\n.right {\r\n  position: absolute;\r\n  top: 0;\r\n  left: 18vw;\r\n  width: 80vw;\r\n  height: 92vh;\r\n  background-color: rgba(255, 255, 255, 0.9);\r\n  padding: 24px;\r\n  overflow: auto;\r\n}\r\n.left-content h3 {\r\n  margin-top: 2vh;\r\n  text-align: center;\r\n}\r\n.position {\r\n  text-align: center;\r\n}\r\n.position-title {\r\n  font-size: 1.4rem;\r\n  font-weight: bold;\r\n  margin-right: 10px;\r\n}\r\n.position-title span {\r\n  font-weight: normal;\r\n}\r\n.button {\r\n  margin: 10px 0 10px 0;\r\n}\r\n.edit-today-dialog >>> .el-dialog--center .el-dialog__body {\r\n  padding: 25px 58px 30px;\r\n}\r\n.right >>> .el-table td,\r\n.right >>> .el-table th {\r\n  padding: 2px;\r\n}\r\n.table input {\r\n  border: 0px;\r\n  background-color: none;\r\n  outline: none;\r\n  width: 100%;\r\n  font-size: 14px;\r\n  color: #606266;\r\n}\r\n.table input:focus {\r\n  outline: none;\r\n}\r\n.table input::-webkit-outer-spin-button,\r\n.table input::-webkit-inner-spin-button {\r\n  -webkit-appearance: none !important;\r\n  margin: 0;\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/shopManagement/shopPerformance/ShopPerformance.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"ipi-board\"}},[_c('div',{staticClass:\"left\"},[_vm._m(0),_vm._v(\" \"),_c('div',{staticClass:\"left-content\"},[_c('h3',[_vm._v(\"请选择店铺\")]),_vm._v(\" \"),_c('el-menu',{staticClass:\"el-menu-vertical-demo\",attrs:{\"default-active\":\"0-0-0\",\"unique-opened\":\"\"}},_vm._l((_vm.menuPlatFormList),function(item,index){return _c('el-submenu',{key:index,attrs:{\"index\":index + ''}},[_c('template',{slot:\"title\"},[_c('span',{staticStyle:{\"display\":\"inline-block\",\"width\":\"100%\"},on:{\"click\":function($event){return _vm.onceClick(index)}}},[_vm._v(_vm._s(item))])]),_vm._v(\" \"),_vm._l((_vm.showCountryList),function(item2,index2){return _c('el-submenu',{key:index2,attrs:{\"index\":index + '-' + index2}},[_c('template',{slot:\"title\"},[_c('span',{staticStyle:{\"display\":\"inline-block\",\"width\":\"100%\"},on:{\"click\":function($event){return _vm.secondClick(index2)}}},[_vm._v(_vm._s(item2))])]),_vm._v(\" \"),_vm._l((_vm.lastSiteList),function(item3,index3){return _c('el-menu-item',{key:index3,attrs:{\"index\":index + '-' + index2 + '-' + index3},on:{\"click\":function($event){return _vm.thirdClick(item, item2, item3)}}},[_c('span',[_vm._v(_vm._s(item3))])])})],2)})],2)}),1)],1)]),_vm._v(\" \"),_c('div',{staticClass:\"right\"},[_c('div',{staticClass:\"top\"},[_c('h2',[_vm._v(\"最近绩效指标\")]),_vm._v(\" \"),_c('div',{staticClass:\"position\"},[_c('span',{staticClass:\"position-title\"},[_vm._v(\"\\n          站点：\\n          \"),_c('span',[_vm._v(_vm._s(_vm.checkedSite))])]),_vm._v(\" \"),_c('span',{staticClass:\"position-title\"},[_vm._v(\"\\n          国家：\\n          \"),_c('span',[_vm._v(_vm._s(_vm.checkedCountry))])])])]),_vm._v(\" \"),_c('div',{staticClass:\"button\"},[_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"mini\"},on:{\"click\":_vm.editToday}},[_vm._v(\"新增当日指标数据\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"mini\"},on:{\"click\":_vm.addTarget}},[_vm._v(\"增加新的指标\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"mini\"},on:{\"click\":_vm.examine}},[_vm._v(\"审核指标\")]),_vm._v(\" \"),_c('span',{staticStyle:{\"font-size\":\"0.8rem\",\"float\":\"right\"}},[_vm._v(\"ps:编辑指标不需要填写单位哦！\")])],1),_vm._v(\" \"),_c('div',{staticClass:\"table\"},[_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.performanceList,\"border\":\"\"}},[_c('el-table-column',{attrs:{\"type\":\"index\",\"label\":\"序号\",\"width\":\"60\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"4\",\"label\":\"时间\"}}),_vm._v(\" \"),_vm._l((_vm.targetList),function(item,index){return _c('el-table-column',{key:index,attrs:{\"prop\":index + 5 + '',\"label\":_vm.getPercent(item)},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(scope.row[4] != _vm.today && scope.row[4] != _vm.yesterday)?_c('div',[(scope.row[index + 5] != 'undefined')?_c('span',[_vm._v(_vm._s(scope.row[index + 5]))]):_c('span')]):_c('div',[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(scope.row[index + 5]),expression:\"scope.row[index + 5]\"}],attrs:{\"type\":\"number\"},domProps:{\"value\":(scope.row[index + 5])},on:{\"change\":function($event){return _vm.updateChange(scope.$index)},\"input\":function($event){if($event.target.composing){ return; }_vm.$set(scope.row, index + 5, $event.target.value)}}})])]}}],null,true)})})],2)],1)]),_vm._v(\" \"),_c('el-dialog',{attrs:{\"title\":\"增加新的指标\",\"visible\":_vm.addTargetDialogVisible,\"width\":\"30%\",\"center\":\"\",\"close-on-click-modal\":false,\"close-on-press-escape\":false},on:{\"update:visible\":function($event){_vm.addTargetDialogVisible=$event},\"close\":_vm.addTargetClose}},[_c('el-form',{ref:\"addTargetRef\",attrs:{\"model\":_vm.addTargetForm,\"rules\":_vm.formRules,\"label-width\":\"120px\"}},[_c('el-form-item',{attrs:{\"label\":\"指标名称\",\"prop\":\"targetName\"}},[_c('el-input',{model:{value:(_vm.addTargetForm.targetName),callback:function ($$v) {_vm.$set(_vm.addTargetForm, \"targetName\", $$v)},expression:\"addTargetForm.targetName\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"指标英文名称\",\"prop\":\"enlName\"}},[_c('el-input',{model:{value:(_vm.addTargetForm.enlName),callback:function ($$v) {_vm.$set(_vm.addTargetForm, \"enlName\", $$v)},expression:\"addTargetForm.enlName\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"数据类型\",\"prop\":\"checkedData\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择\"},model:{value:(_vm.addTargetForm.checkedData),callback:function ($$v) {_vm.$set(_vm.addTargetForm, \"checkedData\", $$v)},expression:\"addTargetForm.checkedData\"}},_vm._l((_vm.dataType),function(item,index){return _c('el-option',{key:index,attrs:{\"label\":item,\"value\":item}})}),1)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"在什么情况下给主管发工单\",\"prop\":\"checkedSituation\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择\"},model:{value:(_vm.addTargetForm.checkedSituation),callback:function ($$v) {_vm.$set(_vm.addTargetForm, \"checkedSituation\", $$v)},expression:\"addTargetForm.checkedSituation\"}},_vm._l((_vm.situation),function(item,index){return _c('el-option',{key:index,attrs:{\"label\":item,\"value\":item}})}),1)],1)],1),_vm._v(\" \"),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.addTargetDialogVisible = false}}},[_vm._v(\"取 消\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.addTargetConfirm}},[_vm._v(\"确 定\")])],1)],1),_vm._v(\" \"),_c('el-dialog',{staticClass:\"edit-today-dialog\",attrs:{\"visible\":_vm.editTodayDialogVisible,\"width\":\"30%\",\"center\":\"\",\"close-on-click-modal\":false,\"close-on-press-escape\":false},on:{\"update:visible\":function($event){_vm.editTodayDialogVisible=$event},\"close\":_vm.editTodayClose}},[_c('el-form',{ref:\"editTodayRef\",attrs:{\"model\":_vm.editTodayForm,\"label-width\":\"120px\"}},_vm._l((_vm.targetList),function(item,index){return _c('el-form-item',{key:index,attrs:{\"label\":item[0],\"prop\":item[1] + index}},[_c('el-input',{attrs:{\"size\":\"small\"},on:{\"input\":_vm.inputChange},model:{value:(_vm.editTodayForm[item[1] + index]),callback:function ($$v) {_vm.$set(_vm.editTodayForm, item[1] + index, $$v)},expression:\"editTodayForm[item[1] + index]\"}})],1)}),1),_vm._v(\" \"),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.editTodayDialogVisible = false}}},[_vm._v(\"取 消\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.editTodayConfirm}},[_vm._v(\"确 定\")])],1)],1),_vm._v(\" \"),_c('el-dialog',{attrs:{\"visible\":_vm.examineDialogVisible,\"width\":\"30%\",\"center\":\"\",\"close-on-click-modal\":false,\"close-on-press-escape\":false},on:{\"update:visible\":function($event){_vm.examineDialogVisible=$event},\"close\":_vm.examineClose}},[_c('el-form',{ref:\"examineRef\",attrs:{\"model\":_vm.examineForm,\"label-width\":\"140px\",\"rules\":_vm.formRules}},[_c('el-form-item',{attrs:{\"label\":\"未审核的指标：\",\"prop\":\"checkIndex\"}},[(_vm.noExamineList.length > 0)?_c('el-radio-group',{model:{value:(_vm.examineForm.checkIndex),callback:function ($$v) {_vm.$set(_vm.examineForm, \"checkIndex\", $$v)},expression:\"examineForm.checkIndex\"}},_vm._l((_vm.noExamineList),function(item,index){return _c('el-radio',{key:index,attrs:{\"label\":item[0]}},[_vm._v(_vm._s(item[1]))])}),1):_c('span',[_vm._v(\"暂无未审核的指标\")])],1)],1),_vm._v(\" \"),(_vm.noExamineList.length > 0)?_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":_vm.examineNoConfirm}},[_vm._v(\"审核不通过\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.examineConfirm}},[_vm._v(\"审核通过\")])],1):_vm._e()],1)],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"title\"},[_c('h2',{staticStyle:{\"text-align\":\"center\"}},[_vm._v(\"店铺绩效\")])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-606fff7c\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/shopManagement/shopPerformance/ShopPerformance.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-606fff7c\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./ShopPerformance.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./ShopPerformance.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./ShopPerformance.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-606fff7c\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./ShopPerformance.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-606fff7c\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/shopManagement/shopPerformance/ShopPerformance.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}