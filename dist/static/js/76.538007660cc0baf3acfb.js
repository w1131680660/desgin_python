webpackJsonp([76],{DRl1:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a={data:function(){return{dialogVisible:!1,dialogVisible1:!1,tableData:[],sku:"",fd:"",yy_sku:"",an_sku:"",yy_sku1:""}},computed:{tableData1:function(){return this.tableData.filter(function(t,e){return e%2==0})},tableData2:function(){return this.tableData.filter(function(t,e){return e%2==1})}},methods:{submitDelete:function(){var t=this,e=this._url2+"server/order_management/oversea_location_sku_delete/",s=new FormData;s.append("yy_sku",this.yy_sku),s.append("an_sku",this.an_sku),this.$axios.post(e,s).then(function(e){200===e.data.code?t.$message.success(e.data.msg):t.$message.warnging("删除请求失败")})},submitEdit:function(){var t=this;if(this.yy_sku1){var e=this._url2+"server/order_management/oversea_location_sku_update/",s=new FormData;s.append("yy_sku",this.yy_sku),s.append("an_sku",this.an_sku),s.append("yy_sku1",this.yy_sku1),this.$axios.post(e,s).then(function(e){200===e.data.code?(t.$message.success(e.data.msg),t.yy_sku1="",t.dialogVisible=!1):t.$message.warnging("请求失败")})}else this.$message.warnging("请输入sku")},editRow:function(t){this.dialogVisible=!0,console.log(t),this.yy_sku=t[0],this.an_sku=t[1]},deleteRow:function(t){this.dialogVisible1=!0,console.log(t),this.yy_sku=t[0],this.an_sku=t[1]},queryData:function(t){var e=this,s="";s=t&&0!==t.length?this._url2+"server/order_management/oversea_location_sku_contrast_detail/?sku="+t:this._url2+"server/order_management/oversea_location_sku_contrast_detail/",this.$axios.get(s).then(function(t){console.log(t),200===t.data.code?e.tableData=t.data.data:alert("获取数据错误")})},submitUpload:function(){var t=this;if(console.log(111),this.files){var e=this._url2+"server/order_management/oversea_location_sku_contrast_upload/",s=new FormData;s.append("files",this.files),this.$axios.post(e,s).then(function(e){200===e.data.code?(alert("上传成功"),t.files="",t.$refs.uploadInput.value=""):alert("上传失败")})}else alert("请先上传文件")},changeFile:function(){if(this.files=this.$refs.uploadInput.files[0],this.files.name){console.log(this.files);var t=this.files.name.split(".")[1];if(console.log(t),"xls"!==t&&"xlsx"!==t)return this.$refs.uploadInput.files=null,void alert("请上传表格文件")}},queryFn:function(){""!==this.sku?this.queryData(this.sku):alert("请输入sku查询！")}},created:function(){this.queryData()}},i={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"SkuControl"}},[s("div",{staticClass:"OptGroup"},[s("div",{staticClass:"queryBlock"},[s("span",[t._v("sku")]),t._v(" "),s("el-input",{model:{value:t.sku,callback:function(e){t.sku=e},expression:"sku"}}),t._v(" "),s("el-button",{attrs:{type:"primary"},on:{click:t.queryFn}},[t._v("查询")])],1),t._v(" "),s("div",{staticClass:"downloadTemplate"},[s("a",{attrs:{href:t._url2+"static/data/海外仓sku对照表_模板.xlsx",download:""}},[t._v("下载模板")])]),t._v(" "),s("div",{staticClass:"uploadFile"},[s("input",{ref:"uploadInput",staticStyle:{width:"200px"},attrs:{type:"file",value:"文件上传",accept:".xls, .xlsx"},on:{change:t.changeFile}}),t._v(" "),s("el-button",{attrs:{type:"primary"},on:{click:t.submitUpload}},[t._v("确认上传")])],1)]),t._v(" "),s("div",{staticClass:"table_container"},[s("el-table",{attrs:{"max-height":"720",border:"",data:t.tableData1}},[s("el-table-column",{attrs:{align:"center",prop:"0",label:"海外仓sku",width:"300"}}),t._v(" "),s("el-table-column",{attrs:{align:"center",prop:"1",label:"亚马逊站点sku",width:"300"}}),t._v(" "),s("el-table-column",{scopedSlots:t._u([{key:"default",fn:function(e){return[s("el-button",{attrs:{type:"text",size:"small"},on:{click:function(s){return t.editRow(e.row)}}},[t._v("修改")]),t._v(" "),s("el-button",{attrs:{type:"text",size:"small"},on:{click:function(s){return t.deleteRow(e.row)}}},[t._v("删除")])]}}])})],1),t._v(" "),s("el-table",{attrs:{"max-height":"720",border:"",data:t.tableData2}},[s("el-table-column",{attrs:{align:"center",prop:"0",label:"海外仓sku",width:"300"}}),t._v(" "),s("el-table-column",{attrs:{align:"center",prop:"1",label:"亚马逊站点sku",width:"300"}}),t._v(" "),s("el-table-column",{scopedSlots:t._u([{key:"default",fn:function(e){return[s("el-button",{attrs:{type:"text",size:"small"},on:{click:function(s){return t.editRow(e.row)}}},[t._v("修改")]),t._v(" "),s("el-button",{attrs:{type:"text",size:"small"},on:{click:function(s){return t.deleteRow(e.row)}}},[t._v("删除")])]}}])})],1)],1),t._v(" "),s("el-dialog",{attrs:{title:"跟新海外仓对照sku",visible:t.dialogVisible,width:"30%"},on:{"update:visible":function(e){t.dialogVisible=e}}},[s("div",{staticStyle:{display:"flex"}},[s("span",{staticStyle:{width:"100px","line-height":"40px"}},[t._v("请输入sku:")]),s("el-input",{model:{value:t.yy_sku1,callback:function(e){t.yy_sku1=e},expression:"yy_sku1"}})],1),t._v(" "),s("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{on:{click:function(e){t.dialogVisible=!1}}},[t._v("取 消")]),t._v(" "),s("el-button",{attrs:{type:"primary"},on:{click:t.submitEdit}},[t._v("确 定")])],1)]),t._v(" "),s("el-dialog",{attrs:{title:"确认删除？",visible:t.dialogVisible1,width:"30%"},on:{"update:visible":function(e){t.dialogVisible1=e}}},[s("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{on:{click:function(e){t.dialogVisible=!1}}},[t._v("取 消")]),t._v(" "),s("el-button",{attrs:{type:"primary"},on:{click:t.submitDelete}},[t._v("确 定")])],1)])],1)},staticRenderFns:[]};var l=s("VU/8")(a,i,!1,function(t){s("jH1H")},null,null);e.default=l.exports},jH1H:function(t,e){}});
//# sourceMappingURL=76.538007660cc0baf3acfb.js.map