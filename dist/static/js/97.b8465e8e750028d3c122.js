webpackJsonp([97],{"QH9/":function(t,e){},tskI:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a("mvHQ"),c=a.n(n),r=a("mtWM"),l=a.n(r),o={data:function(){return{AllTableData2:[],container_name:"",activeName:"first",allCheckData:"",tableData:[],tableData2:[],total:0,page:1}},methods:{goRoute:function(t){this.$router.push({path:t})},findAll:function(){this.container_name="";var t=c()(this.AllTableData2);this.tableData2=JSON.parse(t)},filterContainer:function(){var t=this;console.log("搜索数据",this.tableData2,this.AllTableData2),this.tableData2=this.AllTableData2.filter(function(e){return e.container_num==t.container_name})},searchAllData:function(){var t=this;l()({url:this._url2+"server/stock_management/order_confirmation/",method:"get",params:{page:1,condition:this.allCheckData}}).then(function(e){console.log(e),t.tableData=e.data.data,t.countryList=e.data.re_list[0],t.typeList=e.data.re_list[1],t.platformList=e.data.re_list[2],t.siteList=e.data.re_list[3],t.total=e.data.count_data[0].count_count_data/5,t.page=1,t.tableData2=[]})},getDefaultData:function(){var t=this;l()({url:this._url2+"server/stock_management/order_confirmation/",method:"get",params:{page:1}}).then(function(e){console.log(e),t.tableData=e.data.data,t.countryList=e.data.re_list[0],t.typeList=e.data.re_list[1],t.platformList=e.data.re_list[2],t.siteList=e.data.re_list[3],t.total=e.data.count_data[0].count_count_data/5})},onePlace:function(t){this.tableData2.push(this.tableData[t]),this.tableData.splice(t,1);for(var e=document.querySelectorAll(".allCheck"),a=0;a<e.length;a++)e[a].checked=!1;console.log(this.tableData2,"打印表格数据");var n=c()(this.tableData2);this.AllTableData2=JSON.parse(n)},allPlace:function(){for(var t=document.querySelectorAll(".allCheck"),e=[],a=0;a<t.length;a++)1==t[a].checked&&(this.tableData2.push(this.tableData[a]),e.push(a));for(var n=0;n<e.length;n++)this.tableData.splice(e[e.length-n-1],1);for(var r=0;r<t.length;r++)t[r].checked=!1;console.log(this.tableData2,"打印表格数据");var l=c()(this.tableData2);this.AllTableData2=JSON.parse(l)},oneSubmitPlace:function(t){var e=this,a=document.querySelectorAll(".allCheckLI"),n=new FormData,r=[],l={container_code:this.tableData2[t].container_num,product_number:this.tableData2[t].product_code,product_name:this.tableData2[t].product_name,product_type:this.tableData2[t].product_type,plan_order:this.tableData2[t].sku_num,transport:this.tableData2[t].warehouse_type,warehouse_name:this.tableData2[t].warehouse_name,dates:this.tableData2[t].schedule_date,warehouse_id:this.tableData2[t].warehouse_id,country:this.tableData2[t].country,store:this.tableData2[t].site,port_name:this.tableData2[t].wharf,sku:this.tableData2[t].sku,unique_id:this.tableData2[t].unique_id,id:this.tableData2[t].ord_id};r.push(l),r=c()(r),n.append("params",r),this.$axios.post(this._url2+"server/stock_management/order_confirmation/",n).then(function(n){if(200==n.data.code){alert("下单成功"),e.tableData2.splice(t,1);for(var c=0;c<a.length;c++)a[c].checked=!1}})},allSubmitPlace:function(){for(var t=document.querySelectorAll(".allCheckLI"),e=[],a=[],n=0;n<t.length;n++)if(1==t[n].checked)for(var r=0;r<this.tableData2.length;r++)if(this.tableData2[r].ord_id==t[n].value){var l={container_code:this.tableData2[r].container_num,product_number:this.tableData2[r].product_code,product_name:this.tableData2[r].product_name,product_type:this.tableData2[r].product_type,plan_order:this.tableData2[r].sku_num,transport:this.tableData2[r].warehouse_type,warehouse_name:this.tableData2[r].warehouse_name,dates:this.tableData2[r].schedule_date,warehouse_id:this.tableData2[r].warehouse_id,country:this.tableData2[r].country,store:this.tableData2[r].site,port_name:this.tableData2[r].wharf,sku:this.tableData2[r].sku,unique_id:this.tableData2[r].unique_id,id:this.tableData2[r].ord_id};e.push(l),a.push(r)}for(var o=0;o<a.length;o++)this.tableData2.splice(a[a.length-o-1],1);var i=new FormData;e=c()(e),console.log(e),i.append("params",e),this.$axios.post(this._url2+"server/stock_management/order_confirmation/",i).then(function(e){if(200==e.data.code){alert("下单成功");for(var a=0;a<t.length;a++)t[a].checked=!1}})},handleClick:function(t,e){console.log(t,e)},entireCheck:function(){var t=document.querySelector(".entireCheck"),e=document.querySelectorAll(".allCheck");if(1==t.checked)for(var a=0;a<e.length;a++)e[a].checked=!0;else for(var n=0;n<e.length;n++)e[n].checked=!1},oneCheck:function(){for(var t=document.querySelectorAll(".allCheck"),e=document.querySelector(".entireCheck"),a=0,n=0;n<t.length;n++)0==t[n].checked&&a++;e.checked=0===a},entireCheckLI:function(){var t=document.querySelector(".entireCheckLI"),e=document.querySelectorAll(".allCheckLI");if(1==t.checked)for(var a=0;a<e.length;a++)e[a].checked=!0;else for(var n=0;n<e.length;n++)e[n].checked=!1},oneCheckLI:function(){for(var t=document.querySelectorAll(".allCheckLI"),e=document.querySelector(".entireCheckLI"),a=0,n=0;n<t.length;n++)0==t[n].checked&&a++;e.checked=0===a},handleCurrentChange:function(t){var e=this;this.page=t,l()({url:this._url2+"server/stock_management/order_confirmation/",method:"get",params:{page:this.page,condition:this.allCheckData}}).then(function(t){if(200==t.data.code){e.tableData=t.data.data,e.total=t.data.count_data[0].count_count_data/5;for(var a=document.querySelectorAll(".allCheck"),n=0;n<a.length;n++)a[n].checked=!1;e.tableData2=[]}})},tagCheck:function(t){var e=document.querySelectorAll(".allCheck");e[t].checked=!e[t].checked},tagCheckLI:function(t){var e=document.querySelectorAll(".allCheckLI");e[t].checked=!e[t].checked}},created:function(){this.getDefaultData()}},i={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"bigbox",staticStyle:{width:"85%",margin:"2vh auto",background:"rgba(255, 255, 255, 0.9)",padding:"1vh"}},[a("el-tabs",{on:{"tab-click":t.handleClick},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"货柜汇总",name:"first"}},[a("div",{staticClass:"allSelect"},[a("div",[t._v("\n          搜索一下：\n          "),a("el-input",{staticStyle:{width:"11vw"},attrs:{placeholder:"请输入内容"},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.searchAllData()}},model:{value:t.allCheckData,callback:function(e){t.allCheckData=e},expression:"allCheckData"}}),t._v(" "),a("el-button",{staticStyle:{margin:"2.7vh 0 0 1vw",width:"6vw"},attrs:{type:"primary"},on:{click:function(e){return t.searchAllData()}}},[t._v("搜 索")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.allPlace()}}},[t._v("一键下单")]),t._v(" "),a("el-button",{attrs:{type:"warning"},on:{click:function(e){t.activeName="second"}}},[t._v("订单集成")])],1)]),t._v(" "),a("table",{staticClass:"oneTable"},[a("thead",[a("tr",[a("th",[t._v("\n              全选"),a("input",{staticClass:"entireCheck",attrs:{type:"checkbox"},on:{change:function(e){return t.entireCheck()}}})]),t._v(" "),a("th",[t._v("货柜号")]),t._v(" "),a("th",[t._v("渠道")]),t._v(" "),a("th",[t._v("站点")]),t._v(" "),a("th",[t._v("国家")]),t._v(" "),a("th",[t._v("产品类别")]),t._v(" "),a("th",[t._v("产品编码")]),t._v(" "),a("th",[t._v("品名")]),t._v(" "),a("th",[t._v("sku")]),t._v(" "),a("th",[t._v("数量")]),t._v(" "),a("th",[t._v("仓库类别")]),t._v(" "),a("th",[t._v("仓库名称")]),t._v(" "),a("th",[t._v("发货时间")]),t._v(" "),a("th")])]),t._v(" "),a("tbody",t._l(t.tableData,function(e,n){return a("tr",{key:n},[a("td",[a("input",{staticClass:"allCheck",attrs:{type:"checkbox"},domProps:{value:e.ord_id},on:{change:function(e){return t.oneCheck()}}})]),t._v(" "),a("td",{on:{click:function(e){return t.tagCheck(n)}}},[t._v("\n              "+t._s(e.container_num)+"\n            ")]),t._v(" "),a("td",{on:{click:function(e){return t.tagCheck(n)}}},[t._v("\n              "+t._s(e.platform)+"\n            ")]),t._v(" "),a("td",{on:{click:function(e){return t.tagCheck(n)}}},[t._v(t._s(e.site))]),t._v(" "),a("td",{on:{click:function(e){return t.tagCheck(n)}}},[t._v(t._s(e.country))]),t._v(" "),a("td",{on:{click:function(e){return t.tagCheck(n)}}},[t._v("\n              "+t._s(e.product_type)+"\n            ")]),t._v(" "),a("td",{on:{click:function(e){return t.tagCheck(n)}}},[t._v("\n              "+t._s(e.product_code)+"\n            ")]),t._v(" "),a("td",{on:{click:function(e){return t.tagCheck(n)}}},[t._v("\n              "+t._s(e.product_name)+"\n            ")]),t._v(" "),a("td",{on:{click:function(e){return t.tagCheck(n)}}},[t._v(t._s(e.sku))]),t._v(" "),a("td",{on:{click:function(e){return t.tagCheck(n)}}},[t._v(t._s(e.sku_num))]),t._v(" "),a("td",{on:{click:function(e){return t.tagCheck(n)}}},[t._v("\n              "+t._s(e.warehouse_type)+"\n            ")]),t._v(" "),a("td",{on:{click:function(e){return t.tagCheck(n)}}},[t._v("\n              "+t._s(e.warehouse_name)+"\n            ")]),t._v(" "),a("td",{on:{click:function(e){return t.tagCheck(n)}}},[t._v("\n              "+t._s(e.schedule_date)+"\n            ")]),t._v(" "),a("td",[a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.onePlace(n)}}},[t._v("确认下单")])],1)])}),0)]),t._v(" "),a("el-pagination",{staticClass:"pagetotle",staticStyle:{margin:"1vh 0 0 28vw"},attrs:{background:"","current-page":t.page,layout:"prev, pager, next, jumper",total:t.total},on:{"current-change":t.handleCurrentChange}})],1),t._v(" "),a("el-tab-pane",{attrs:{label:"订单集成",name:"second"}},[a("el-form",{attrs:{inline:!0}},[a("el-form-item",{attrs:{label:"货柜号"}},[a("el-input",{attrs:{size:"mini",placeholder:"请输入货柜号"},model:{value:t.container_name,callback:function(e){t.container_name=e},expression:"container_name"}})],1),t._v(" "),a("el-form-item",[a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:t.filterContainer}},[t._v("搜索")]),t._v(" "),a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:t.findAll}},[t._v("重置")]),t._v(" "),a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(e){return t.goRoute("/ContainersOrdered")}}},[t._v("\n            查看已下单货柜\n          ")])],1)],1),t._v(" "),a("table",{staticClass:"twoTable",staticStyle:{margin:"auto"}},[a("thead",[a("tr",[a("th",[t._v("\n              全选\n              "),a("input",{staticClass:"entireCheckLI",attrs:{type:"checkbox"},on:{change:function(e){return t.entireCheckLI()}}})]),t._v(" "),a("th",[t._v("货柜号")]),t._v(" "),a("th",[t._v("站点")]),t._v(" "),a("th",[t._v("国家")]),t._v(" "),a("th",[t._v("产品编码")]),t._v(" "),a("th",[t._v("产品名称")]),t._v(" "),a("th",[t._v("类别")]),t._v(" "),a("th",[t._v("集成数量")]),t._v(" "),a("th",[t._v("仓库类别")]),t._v(" "),a("th",[t._v("仓库名称")]),t._v(" "),a("th",[t._v("sku")]),t._v(" "),a("th",[t._v("发货日期")]),t._v(" "),a("th")])]),t._v(" "),a("tbody",t._l(t.tableData2,function(e,n){return a("tr",{key:n},[a("td",[a("input",{staticClass:"allCheckLI",attrs:{type:"checkbox"},domProps:{value:e.ord_id},on:{change:function(e){return t.oneCheckLI()}}})]),t._v(" "),a("td",{on:{click:function(e){return t.tagCheckLI(n)}}},[t._v("\n              "+t._s(e.container_num)+"\n            ")]),t._v(" "),a("td",{on:{click:function(e){return t.tagCheckLI(n)}}},[t._v(t._s(e.site))]),t._v(" "),a("td",{on:{click:function(e){return t.tagCheckLI(n)}}},[t._v("\n              "+t._s(e.country)+"\n            ")]),t._v(" "),a("td",{on:{click:function(e){return t.tagCheckLI(n)}}},[t._v("\n              "+t._s(e.product_code)+"\n            ")]),t._v(" "),a("td",{on:{click:function(e){return t.tagCheckLI(n)}}},[t._v("\n              "+t._s(e.product_name)+"\n            ")]),t._v(" "),a("td",{on:{click:function(e){return t.tagCheckLI(n)}}},[t._v("\n              "+t._s(e.product_type)+"\n            ")]),t._v(" "),a("td",{on:{click:function(e){return t.tagCheckLI(n)}}},[t._v("\n              "+t._s(e.sku_num)+"\n            ")]),t._v(" "),a("td",{on:{click:function(e){return t.tagCheckLI(n)}}},[t._v("\n              "+t._s(e.warehouse_type)+"\n            ")]),t._v(" "),a("td",{on:{click:function(e){return t.tagCheckLI(n)}}},[t._v("\n              "+t._s(e.warehouse_name)+"\n            ")]),t._v(" "),a("td",[t._v(t._s(e.sku))]),t._v(" "),a("td",{on:{click:function(e){return t.tagCheckLI(n)}}},[t._v("\n              "+t._s(e.schedule_date)+"\n            ")]),t._v(" "),a("td",[a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.oneSubmitPlace(n)}}},[t._v("确认下单")])],1)])}),0)]),t._v(" "),a("el-button",{staticStyle:{margin:"2vh 0 2vh 38vw",width:"10vw"},attrs:{type:"primary"},on:{click:function(e){return t.allSubmitPlace()}}},[t._v("一 键 下 单")])],1)],1)],1)},staticRenderFns:[]};var u=a("VU/8")(o,i,!1,function(t){a("QH9/")},"data-v-1d0e626a",null);e.default=u.exports}});
//# sourceMappingURL=97.b8465e8e750028d3c122.js.map