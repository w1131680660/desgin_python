{"version":3,"sources":["webpack:///src/components/personManagement/train.vue","webpack:///./src/components/personManagement/train.vue?dcbd","webpack:///./src/components/personManagement/train.vue"],"names":["train","name","props","data","_this","this","trainList","themeList","trainFileList","staffList","isShowQuery","newTrainList","currentStaff","currentCompletion","trainTaskDialog","dialogVisible","trainTaskForm","desc","checkedDate","checkedTheme","checkedTrainFile","checkedTrainStaff","trainFileDialog","addFileDialog","addFileForm","addThemeName","filePath","addThemeNameDisabled","scoreDialog","scoreForm","staff","theme","score","formRules","type","required","message","trigger","validator","rule","value","callback","length","computed","watch","methods","getTrainList","_this2","$api2","then","res","console","log","train_theme_file_data","users","addTask","gatherFile","_this3","gatherTrainFile","addFile","push","train_theme","newThemeChange","val","fileChange","ev","target","files","addFileConfirm","_this4","$refs","addFileRef","validate","state","formData","FormData","append","addTrainFile","$message","success","uploadTrainDoc","themeChange","_this5","forEach","n","train_files","removeTrainFile","file","_this6","$confirm","confirmButtonText","cancelButtonText","catch","addTaskConfirm","_this7","trainTaskRef","join","addTrainTask","user","scoreConfirm","_this8","scoreFormRef","trainScore","staffCommand","command","$utils","deepClone","i","train_user","splice","finishCommand","_i","trainTaskDialogClose","resetFields","addFileDialogClose","scoreDialogClose","created","mounted","personManagement_train","render","_vm","_h","$createElement","_c","_self","staticClass","_m","_v","attrs","on","slot","_l","item","index","key","real_name","_s","train_date","remarks","size","click","$event","user_name","visible","width","center","update:visible","$set","close","ref","model","rules","label-width","label","prop","placeholder","format","value-format","$$v","expression","change","_e","train_file","upload_date","disabled","_n","staticRenderFns","staticStyle","colspan","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/47.60db6da6b43d9856bfa6.js","sourcesContent":["<template>\r\n  <div class=\"con\">\r\n    <div class=\"train_record table_box\">\r\n      <table class=\"table\">\r\n        <thead>\r\n          <tr>\r\n            <th colspan=\"8\" style=\"width:72vw\">培训记录</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody v-if=\"!isShowQuery\">\r\n          <tr>\r\n            <td>序号</td>\r\n            <!-- <td class=\"date_dropdown\">\r\n              <el-dropdown trigger=\"click\">\r\n                <span class=\"el-dropdown-link\">\r\n                  培训时间\r\n                  <i class=\"el-icon-arrow-down el-icon--right\"></i>\r\n                </span>\r\n                <el-dropdown-menu slot=\"dropdown\"></el-dropdown-menu>\r\n              </el-dropdown>\r\n              <el-date-picker\r\n                v-model=\"queryDate\"\r\n                type=\"date\"\r\n                class=\"date_show\"\r\n                format=\"yyyy/MM/dd\"\r\n                value-format=\"yyyy/MM/dd\"\r\n                @change=\"dateChange\"\r\n              ></el-date-picker>\r\n            </td>-->\r\n            <td>培训时间</td>\r\n            <td>培训主题</td>\r\n            <td>\r\n              <el-dropdown trigger=\"click\" @command=\"staffCommand\">\r\n                <span class=\"el-dropdown-link\">\r\n                  培训人员\r\n                  <i class=\"el-icon-arrow-down el-icon--right\"></i>\r\n                </span>\r\n                <el-dropdown-menu slot=\"dropdown\">\r\n                  <el-dropdown-item\r\n                    v-for=\"(item, index) in staffList\"\r\n                    :key=\"index\"\r\n                    :command=\"item.user_name\"\r\n                    >{{ item.user_name }}</el-dropdown-item\r\n                  >\r\n                </el-dropdown-menu>\r\n              </el-dropdown>\r\n            </td>\r\n            <td>培训文件</td>\r\n            <td>\r\n              <el-dropdown trigger=\"click\" @command=\"finishCommand\">\r\n                <span class=\"el-dropdown-link\">\r\n                  完成情况\r\n                  <i class=\"el-icon-arrow-down el-icon--right\"></i>\r\n                </span>\r\n                <el-dropdown-menu slot=\"dropdown\">\r\n                  <el-dropdown-item command=\"1\">已完成</el-dropdown-item>\r\n                  <el-dropdown-item command=\"0\">未完成</el-dropdown-item>\r\n                </el-dropdown-menu>\r\n              </el-dropdown>\r\n            </td>\r\n            <td>分数</td>\r\n            <td>备注</td>\r\n            <td>操作</td>\r\n          </tr>\r\n          <tr v-for=\"(item, index) in trainList\" :key=\"index\">\r\n            <td>{{ index + 1 }}</td>\r\n            <td>{{ item.train_date }}</td>\r\n            <td>{{ item.train_theme }}</td>\r\n            <td>{{ item.train_user }}</td>\r\n            <td>{{ item.train_files }}</td>\r\n            <td v-if=\"item.score\">已完成</td>\r\n            <td v-else>未完成</td>\r\n            <td>{{ item.score }}</td>\r\n            <td>{{ item.remarks }}</td>\r\n            <td>\r\n              <el-button\r\n                type=\"primary\"\r\n                size=\"mini\"\r\n                @click=\"score(item.train_user, item.train_theme)\"\r\n                >评分</el-button\r\n              >\r\n            </td>\r\n          </tr>\r\n        </tbody>\r\n        <tbody v-else>\r\n          <tr>\r\n            <td>序号</td>\r\n            <!-- <td class=\"date_dropdown\">\r\n              <el-dropdown trigger=\"click\">\r\n                <span class=\"el-dropdown-link\">\r\n                  培训时间\r\n                  <i class=\"el-icon-arrow-down el-icon--right\"></i>\r\n                </span>\r\n                <el-dropdown-menu slot=\"dropdown\"></el-dropdown-menu>\r\n              </el-dropdown>\r\n              <el-date-picker\r\n                v-model=\"queryDate\"\r\n                type=\"date\"\r\n                class=\"date_show\"\r\n                format=\"yyyy/MM/dd\"\r\n                value-format=\"yyyy/MM/dd\"\r\n                @change=\"dateChange\"\r\n              ></el-date-picker>\r\n            </td>-->\r\n            <td>培训时间</td>\r\n            <td>培训主题</td>\r\n            <td>\r\n              <el-dropdown trigger=\"click\" @command=\"staffCommand\">\r\n                <span class=\"el-dropdown-link\">\r\n                  培训人员\r\n                  <i class=\"el-icon-arrow-down el-icon--right\"></i>\r\n                </span>\r\n                <el-dropdown-menu slot=\"dropdown\">\r\n                  <el-dropdown-item\r\n                    v-for=\"(item, index) in staffList\"\r\n                    :key=\"index\"\r\n                    :command=\"item.real_name\"\r\n                    >{{ item.real_name }}</el-dropdown-item\r\n                  >\r\n                </el-dropdown-menu>\r\n              </el-dropdown>\r\n            </td>\r\n            <td>培训文件</td>\r\n            <td>\r\n              <el-dropdown trigger=\"click\" @command=\"finishCommand\">\r\n                <span class=\"el-dropdown-link\">\r\n                  完成情况\r\n                  <i class=\"el-icon-arrow-down el-icon--right\"></i>\r\n                </span>\r\n                <el-dropdown-menu slot=\"dropdown\">\r\n                  <el-dropdown-item command=\"1\">已完成</el-dropdown-item>\r\n                  <el-dropdown-item command=\"0\">未完成</el-dropdown-item>\r\n                </el-dropdown-menu>\r\n              </el-dropdown>\r\n            </td>\r\n            <td>分数</td>\r\n            <td>备注</td>\r\n            <td>操作</td>\r\n          </tr>\r\n          <tr v-for=\"(item, index) in newTrainList\" :key=\"index\">\r\n            <td>{{ index + 1 }}</td>\r\n            <td>{{ item.train_date }}</td>\r\n            <td>{{ item.train_theme }}</td>\r\n            <td>{{ item.train_user }}</td>\r\n            <td>{{ item.train_files }}</td>\r\n            <td v-if=\"item.score\">已完成</td>\r\n            <td v-else>未完成</td>\r\n            <td>{{ item.score }}</td>\r\n            <td>{{ item.remarks }}</td>\r\n            <td>\r\n              <el-button\r\n                type=\"primary\"\r\n                size=\"mini\"\r\n                @click=\"score(item.train_user, item.train_theme)\"\r\n                >评分</el-button\r\n              >\r\n            </td>\r\n          </tr>\r\n        </tbody>\r\n      </table>\r\n      <div class=\"train_operation\">\r\n        <el-button type=\"primary\" size=\"mini\" @click=\"addTask\"\r\n          >培训任务新增</el-button\r\n        >\r\n        <el-button type=\"primary\" size=\"mini\" @click=\"gatherFile\"\r\n          >培训文档汇总</el-button\r\n        >\r\n        <el-button type=\"primary\" size=\"mini\" @click=\"addFile\"\r\n          >培训文档新增</el-button\r\n        >\r\n      </div>\r\n    </div>\r\n\r\n    <!-- 培训任务新增对话框 -->\r\n    <el-dialog\r\n      :visible.sync=\"trainTaskDialog.dialogVisible\"\r\n      width=\"30%\"\r\n      center\r\n      @close=\"trainTaskDialogClose\"\r\n    >\r\n      <!-- 表单区域 -->\r\n      <el-form\r\n        :model=\"trainTaskDialog.trainTaskForm\"\r\n        :rules=\"formRules\"\r\n        ref=\"trainTaskRef\"\r\n        label-width=\"100px\"\r\n      >\r\n        <el-form-item label=\"培训时间\" prop=\"checkedDate\">\r\n          <el-date-picker\r\n            v-model=\"trainTaskDialog.trainTaskForm.checkedDate\"\r\n            type=\"date\"\r\n            placeholder=\"选择日期\"\r\n            format=\"yyyy/MM/dd\"\r\n            value-format=\"yyyy/MM/dd\"\r\n          ></el-date-picker>\r\n        </el-form-item>\r\n        <el-form-item label=\"培训主题\" prop=\"checkedTheme\">\r\n          <el-select\r\n            v-model=\"trainTaskDialog.trainTaskForm.checkedTheme\"\r\n            placeholder=\"请选择\"\r\n            @change=\"themeChange\"\r\n          >\r\n            <el-option\r\n              v-for=\"(item, index) in themeList\"\r\n              :key=\"index\"\r\n              :label=\"item.train_theme\"\r\n              :value=\"item.train_theme\"\r\n            ></el-option>\r\n          </el-select>\r\n        </el-form-item>\r\n        <el-form-item label=\"培训文件\" prop=\"checkedTrainFile\">\r\n          <el-checkbox-group\r\n            v-model=\"trainTaskDialog.trainTaskForm.checkedTrainFile\"\r\n            v-if=\"trainTaskDialog.trainTaskForm.checkedTheme.length > 0\"\r\n          >\r\n            <el-checkbox\r\n              v-for=\"(item, index) in trainFileList\"\r\n              :key=\"index\"\r\n              :label=\"item\"\r\n            ></el-checkbox>\r\n          </el-checkbox-group>\r\n        </el-form-item>\r\n        <el-form-item label=\"培训人员\" prop=\"checkedTrainStaff\">\r\n          <el-checkbox-group\r\n            v-model=\"trainTaskDialog.trainTaskForm.checkedTrainStaff\"\r\n          >\r\n            <el-checkbox\r\n              v-for=\"(item, index) in staffList\"\r\n              :key=\"index\"\r\n              :label=\"item.user_name\"\r\n            ></el-checkbox>\r\n          </el-checkbox-group>\r\n        </el-form-item>\r\n        <el-form-item label=\"备注\" prop=\"desc\">\r\n          <el-input\r\n            type=\"textarea\"\r\n            v-model=\"trainTaskDialog.trainTaskForm.desc\"\r\n          ></el-input>\r\n        </el-form-item>\r\n      </el-form>\r\n      <span slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button type=\"primary\" @click=\"addTaskConfirm\">确定新增</el-button>\r\n      </span>\r\n    </el-dialog>\r\n\r\n    <!-- 培训文档汇总对话框 -->\r\n    <el-dialog :visible.sync=\"trainFileDialog.dialogVisible\" width=\"50%\" center>\r\n      <table>\r\n        <thead>\r\n          <tr>\r\n            <th>培训主题</th>\r\n            <th>培训文件名</th>\r\n            <th>上传时间</th>\r\n            <th>操作</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          <tr\r\n            v-for=\"(item, index) in trainFileDialog.trainFileList\"\r\n            :key=\"index\"\r\n          >\r\n            <td>{{ item.train_theme }}</td>\r\n            <td>{{ item.train_file }}</td>\r\n            <td>{{ item.upload_date }}</td>\r\n            <td>\r\n              <el-button\r\n                type=\"danger\"\r\n                size=\"mini\"\r\n                @click=\"removeTrainFile(item.train_theme, item.train_file)\"\r\n                >删除</el-button\r\n              >\r\n            </td>\r\n          </tr>\r\n        </tbody>\r\n      </table>\r\n    </el-dialog>\r\n\r\n    <!-- 培训文档新增 -->\r\n    <el-dialog\r\n      :visible.sync=\"addFileDialog.dialogVisible\"\r\n      width=\"30%\"\r\n      center\r\n      @close=\"addFileDialogClose\"\r\n    >\r\n      <!-- 表单部分 -->\r\n      <el-form\r\n        :model=\"addFileDialog.addFileForm\"\r\n        :rules=\"formRules\"\r\n        ref=\"addFileRef\"\r\n        label-width=\"100px\"\r\n      >\r\n        <el-form-item label=\"培训主题\" prop=\"checkedTheme\">\r\n          <el-select\r\n            v-model=\"addFileDialog.addFileForm.checkedTheme\"\r\n            placeholder=\"请选择\"\r\n            @change=\"newThemeChange\"\r\n          >\r\n            <el-option\r\n              v-for=\"(item, index) in themeList\"\r\n              :key=\"index\"\r\n              :label=\"item.train_theme\"\r\n              :value=\"item.train_theme\"\r\n            ></el-option>\r\n          </el-select>\r\n        </el-form-item>\r\n        <el-form-item label=\"添加主题\" prop=\"addThemeName\">\r\n          <el-input\r\n            v-model=\"addFileDialog.addFileForm.addThemeName\"\r\n            :disabled=\"addFileDialog.addThemeNameDisabled\"\r\n          ></el-input>\r\n        </el-form-item>\r\n\r\n        <el-form-item label=\"上传文件\" prop=\"file\">\r\n          <input ref=\"uploadTrainDoc\" type=\"file\" @change=\"fileChange\" />\r\n        </el-form-item>\r\n      </el-form>\r\n      <span slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button type=\"primary\" @click=\"addFileConfirm\">提交</el-button>\r\n      </span>\r\n    </el-dialog>\r\n\r\n    <!-- 评分对话框 -->\r\n    <el-dialog\r\n      :visible.sync=\"scoreDialog.dialogVisible\"\r\n      width=\"30%\"\r\n      center\r\n      @close=\"scoreDialogClose\"\r\n    >\r\n      <el-form\r\n        ref=\"scoreFormRef\"\r\n        :model=\"scoreDialog.scoreForm\"\r\n        label-width=\"80px\"\r\n        :rules=\"formRules\"\r\n      >\r\n        <el-form-item label=\"培训人员\" prop=\"staff\">\r\n          <el-input\r\n            v-model=\"scoreDialog.scoreForm.staff\"\r\n            :disabled=\"true\"\r\n          ></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"培训主题\" prop=\"theme\">\r\n          <el-input\r\n            v-model=\"scoreDialog.scoreForm.theme\"\r\n            :disabled=\"true\"\r\n          ></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"评分\" prop=\"score\">\r\n          <el-input v-model.number=\"scoreDialog.scoreForm.score\"></el-input>\r\n        </el-form-item>\r\n      </el-form>\r\n      <span slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button type=\"primary\" @click=\"scoreConfirm\">确 定</el-button>\r\n      </span>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n<script>\r\nexport default {\r\n  name: \"\",\r\n  props: {},\r\n  data() {\r\n    const addTheme = (rule, value, callback) => {\r\n      if (this.addFileDialog.addFileForm.checkedTheme == \"新增主题\") {\r\n        if (!value) {\r\n          return callback(\"主题不能为空\");\r\n        } else {\r\n          callback();\r\n        }\r\n      } else {\r\n        callback();\r\n      }\r\n    };\r\n    const checkedTrainFile = (rule, value, callback) => {\r\n      if (!this.trainTaskDialog.trainTaskForm.checkedTrainFile.length) {\r\n        callback(\"至少选择一个培训文件\");\r\n      } else {\r\n        callback();\r\n      }\r\n    };\r\n    return {\r\n      // 培训记录列表\r\n      trainList: [],\r\n      // 获取主题与文件列表\r\n      themeList: [],\r\n      // 根据选择的主题显示对应的文件\r\n      trainFileList: [],\r\n      // 获取培训人员列表\r\n      staffList: [],\r\n      // 是否开启筛选模式\r\n      isShowQuery: false,\r\n      // 筛选列表\r\n      newTrainList: [],\r\n      // 当前的培训人员和完成情况 2表示未选择\r\n      currentStaff: \"\",\r\n      currentCompletion: 2,\r\n      // 培训任务新增对话框所需数据\r\n      trainTaskDialog: {\r\n        dialogVisible: false,\r\n        //表单内容\r\n        trainTaskForm: {\r\n          // 备注\r\n          desc: \"\",\r\n          // 选择的日期\r\n          checkedDate: \"\",\r\n          // 培训的主题\r\n          checkedTheme: \"\",\r\n          // 选中的培训文件\r\n          checkedTrainFile: [],\r\n          // 选中的培训人员\r\n          checkedTrainStaff: []\r\n        }\r\n      },\r\n      // 培训文档汇总对话框所需数据\r\n      trainFileDialog: {\r\n        dialogVisible: false,\r\n        trainFileList: []\r\n      },\r\n      // 培训文档新增所需对话框数据\r\n      addFileDialog: {\r\n        dialogVisible: false,\r\n        addFileForm: {\r\n          // 选中的主题\r\n          checkedTheme: \"\",\r\n          // 新增的主题名称\r\n          addThemeName: \"\",\r\n          // 选中的文件\r\n          filePath: \"\"\r\n        },\r\n        // 添加主题输入框是否禁用\r\n        addThemeNameDisabled: true\r\n      },\r\n      // 评分对话框所需数据\r\n      scoreDialog: {\r\n        dialogVisible: false,\r\n        scoreForm: {\r\n          staff: \"\",\r\n          theme: \"\",\r\n          score: 0\r\n        }\r\n      },\r\n      // 表单验证\r\n      formRules: {\r\n        score: [\r\n          {\r\n            type: \"number\",\r\n            required: true,\r\n            message: \"请输入正确的分数格式\",\r\n            trigger: \"blur\"\r\n          }\r\n        ],\r\n        checkedTheme: [\r\n          { required: true, message: \"请选择培训主题\", trigger: \"change\" }\r\n        ],\r\n        addThemeName: [{ validator: addTheme, trigger: \"blur\" }],\r\n        checkedDate: [\r\n          { required: true, message: \"请选择培训时间\", trigger: \"change\" }\r\n        ],\r\n        checkedTrainFile: [{ validator: checkedTrainFile, trigger: \"change\" }],\r\n        checkedTrainStaff: [\r\n          {\r\n            type: \"array\",\r\n            required: true,\r\n            message: \"请至少选择一个培训人员\",\r\n            trigger: \"change\"\r\n          }\r\n        ]\r\n      }\r\n    };\r\n  },\r\n  computed: {},\r\n  watch: {},\r\n  methods: {\r\n    // 获取培训记录列表\r\n    getTrainList() {\r\n      this.$api2.getTrainList().then(res => {\r\n        this.trainList = res.data.data;\r\n        console.log(res.data);\r\n        this.themeList = res.data.train_theme_file_data;\r\n        console.log(this.themeList);\r\n        this.staffList = res.data.users;\r\n      });\r\n    },\r\n    // 点击培训任务新增\r\n    addTask() {\r\n      this.trainTaskDialog.dialogVisible = true;\r\n    },\r\n    // 点击培训文档汇总\r\n    gatherFile() {\r\n      this.$api2.gatherTrainFile().then(res => {\r\n        this.trainFileDialog.trainFileList = res.data.data;\r\n      });\r\n      this.trainFileDialog.dialogVisible = true;\r\n    },\r\n    // 点击培训文档新增\r\n    addFile() {\r\n      this.themeList.push({ train_theme: \"新增主题\" });\r\n      this.addFileDialog.addThemeNameDisabled = true;\r\n      this.addFileDialog.dialogVisible = true;\r\n    },\r\n    // 培训文档新增中，主题改变\r\n    newThemeChange(val) {\r\n      if (val == \"新增主题\") {\r\n        this.addFileDialog.addThemeNameDisabled = false;\r\n      } else {\r\n        this.addFileDialog.addThemeNameDisabled = true;\r\n      }\r\n    },\r\n    // 上传文件\r\n    fileChange(ev) {\r\n      console.log(ev);\r\n      this.addFileDialog.addFileForm.filePath = ev.target.files[0];\r\n      console.log(\"上传文件\", this.addFileDialog.addFileForm.filePath);\r\n      console.log(this.addFileDialog.addFileForm.filePath);\r\n    },\r\n    // 确认新增培训文档\r\n    addFileConfirm() {\r\n      this.$refs.addFileRef.validate(state => {\r\n        if (!state) return;\r\n        let formData = new FormData();\r\n        if (this.addFileDialog.addFileForm.checkedTheme == \"新增主题\") {\r\n          formData.append(\r\n            \"train_theme\",\r\n            this.addFileDialog.addFileForm.addThemeName\r\n          );\r\n          console.log(\"aaabbb\");\r\n        } else {\r\n          formData.append(\r\n            \"train_theme\",\r\n            this.addFileDialog.addFileForm.checkedTheme\r\n          );\r\n          console.log(\"ccccc\");\r\n        }\r\n        formData.append(\"train_file\", this.addFileDialog.addFileForm.filePath);\r\n        this.$api2.addTrainFile(formData).then(res => {\r\n          if (res) {\r\n            this.$message.success(\"新增培训文档成功\");\r\n            this.getTrainList();\r\n            // 重置表单\r\n            console.log(\"拿到input\", this.$refs.uploadTrainDoc);\r\n            this.$refs.uploadTrainDoc.value = \"\";\r\n            (this.addFileDialog.addFileForm = {\r\n              checkedTheme: \"\",\r\n              addThemeName: \"\",\r\n              filePath: \"\"\r\n            }),\r\n              (this.addFileDialog.dialogVisible = false);\r\n          }\r\n        });\r\n      });\r\n    },\r\n    // 在培训任务新增对话框中的主题被选中时触发\r\n    themeChange(val) {\r\n      console.log(val);\r\n      this.themeList.forEach(n => {\r\n        if (n.train_theme == val) {\r\n          this.trainFileList = n.train_files;\r\n        }\r\n      });\r\n    },\r\n    // 删除培训文档\r\n    removeTrainFile(theme, file) {\r\n      this.$confirm(\"此操作将永久删除此培训文档, 是否继续?\", \"提示\", {\r\n        confirmButtonText: \"确定\",\r\n        cancelButtonText: \"取消\",\r\n        type: \"warning\"\r\n      })\r\n        .then(() => {\r\n          this.$api2.removeTrainFile(theme, file).then(res => {\r\n            if (res) {\r\n              this.$message.success(\"删除成功\");\r\n              this.trainFileDialog.dialogVisible = false;\r\n            }\r\n          });\r\n        })\r\n        .catch(() => {\r\n          this.$message({\r\n            type: \"info\",\r\n            message: \"已取消删除\"\r\n          });\r\n        });\r\n    },\r\n    // 确认新增培训任务\r\n    addTaskConfirm() {\r\n      this.$refs.trainTaskRef.validate(state => {\r\n        if (!state) return;\r\n        let formData = new FormData();\r\n        formData.append(\r\n          \"train_date\",\r\n          this.trainTaskDialog.trainTaskForm.checkedDate\r\n        );\r\n        formData.append(\r\n          \"train_theme\",\r\n          this.trainTaskDialog.trainTaskForm.checkedTheme\r\n        );\r\n        // 将文件数组转字符串\r\n        let file = this.trainTaskDialog.trainTaskForm.checkedTrainFile.join(\r\n          \",\"\r\n        );\r\n        console.log(file);\r\n        formData.append(\"train_file\", file);\r\n        let staff = this.trainTaskDialog.trainTaskForm.checkedTrainStaff.join(\r\n          \",\"\r\n        );\r\n        console.log(staff);\r\n        formData.append(\"train_user\", staff);\r\n        //   \"train_user\",\r\n        //   this.trainFileDialog.trainTaskForm.checkedTrainStaff\r\n        // );\r\n        formData.append(\r\n          \"train_remarks\",\r\n          this.trainTaskDialog.trainTaskForm.desc\r\n        );\r\n        console.log(formData);\r\n\r\n        this.$api2.addTrainTask(formData).then(res => {\r\n          if (res) {\r\n            console.log(res);\r\n\r\n            this.$message.success(\"添加任务成功\");\r\n            this.trainTaskDialog.dialogVisible = false;\r\n            this.getTrainList();\r\n          }\r\n        });\r\n      });\r\n    },\r\n    // 评分\r\n    score(user, theme) {\r\n      this.scoreDialog.scoreForm.staff = user;\r\n      this.scoreDialog.scoreForm.theme = theme;\r\n      this.scoreDialog.dialogVisible = true;\r\n    },\r\n    // 确认评分\r\n    scoreConfirm() {\r\n      this.$refs.scoreFormRef.validate(state => {\r\n        if (!state) return;\r\n        this.$api2\r\n          .trainScore(\r\n            this.scoreDialog.scoreForm.staff,\r\n            this.scoreDialog.scoreForm.theme,\r\n            this.scoreDialog.scoreForm.score\r\n          )\r\n          .then(res => {\r\n            this.getTrainList();\r\n            this.scoreDialog.dialogVisible = false;\r\n            this.scoreDialog.scoreForm.score = 0;\r\n          });\r\n      });\r\n    },\r\n    // 根据选中的日期进行筛选  这个功能不要了\r\n    // dateChange(val) {\r\n    //   console.log(val);\r\n    //   // 让列表渲染的数据由trainList转为newTrainList，注意要深拷贝\r\n    //   this.isShowQuery = true;\r\n    //   this.newTrainList = this.$utils.deepClone(this.trainList);\r\n    //   for (let i = 0; i < this.newTrainList.length; i++) {\r\n    //     if (val != this.newTrainList[i].train_date) {\r\n    //       this.newTrainList.splice(i, 1);\r\n    //       i--;\r\n    //     }\r\n    //   }\r\n    // },\r\n    // 根据选中的培训人员进行筛选\r\n    staffCommand(command) {\r\n      if (this.currentStaff == \"\") {\r\n        this.currentStaff = command;\r\n      } else if (this.currentStaff != command) {\r\n        this.currentStaff = command;\r\n        this.newTrainList = [];\r\n      }\r\n      this.isShowQuery = true;\r\n      if (this.newTrainList.length == 0) {\r\n        this.newTrainList = this.$utils.deepClone(this.trainList);\r\n      }\r\n\r\n      for (let i = 0; i < this.newTrainList.length; i++) {\r\n        if (command != this.newTrainList[i].train_user) {\r\n          this.newTrainList.splice(i, 1);\r\n          i--;\r\n        }\r\n      }\r\n    },\r\n    // 根据选中的完成情况进行筛选\r\n    finishCommand(command) {\r\n      if (this.currentCompletion == 2) {\r\n        this.currentCompletion = command;\r\n      } else if (this.currentCompletion != command) {\r\n        this.currentCompletion = command;\r\n        this.newTrainList = [];\r\n      }\r\n      console.log(command);\r\n      this.isShowQuery = true;\r\n      // this.newTrainList = this.$utils.deepClone(this.trainList);\r\n      if (this.newTrainList.length == 0) {\r\n        this.newTrainList = this.$utils.deepClone(this.trainList);\r\n      }\r\n      if (command == 1) {\r\n        for (let i = 0; i < this.newTrainList.length; i++) {\r\n          if (!this.newTrainList[i].score) {\r\n            this.newTrainList.splice(i, 1);\r\n            i--;\r\n          }\r\n        }\r\n      } else {\r\n        for (let i = 0; i < this.newTrainList.length; i++) {\r\n          if (this.newTrainList[i].score) {\r\n            this.newTrainList.splice(i, 1);\r\n            i--;\r\n          }\r\n        }\r\n      }\r\n    },\r\n\r\n    // 所有会话关闭事件  要另表单重置起效 form-item需要加prop属性\r\n    trainTaskDialogClose() {\r\n      this.$refs.trainTaskRef.resetFields();\r\n    },\r\n    addFileDialogClose() {\r\n      this.$refs.addFileRef.resetFields();\r\n    },\r\n    scoreDialogClose() {\r\n      this.$refs.scoreFormRef.resetFields();\r\n    }\r\n  },\r\n  created() {\r\n    this.getTrainList();\r\n  },\r\n  mounted() {}\r\n};\r\n</script>\r\n<style scoped>\r\n@import \"../../../static/css/thead_fixed_table.css\";\r\n\r\n.el-dropdown-link {\r\n  cursor: pointer;\r\n  color: #000;\r\n  font-size: 14px;\r\n}\r\n.el-icon-arrow-down {\r\n  font-size: 14px;\r\n}\r\n.train_record {\r\n  position: relative;\r\n  margin-top: 24px;\r\n}\r\n.train_operation {\r\n  position: absolute;\r\n  top: 25px;\r\n  left: 70px;\r\n  /* width: fit-content; */\r\n}\r\n.el-checkbox-group {\r\n  display: flex;\r\n  flex-direction: column;\r\n}\r\n.el-upload-list .el-upload-list--text {\r\n  display: inline-block;\r\n}\r\n.table_box {\r\n  padding: 20px;\r\n  width: 74vw;\r\n  word-break: break-all;\r\n}\r\n/* 将日期框隐藏 */\r\n/* .date_dropdown {\r\n  position: relative;\r\n}\r\n.date_dropdown .el-date-editor.el-input {\r\n  width: 100%;\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  opacity: 0;\r\n}\r\n.el-input--prefix .el-input__inner {\r\n  cursor: pointer;\r\n} */\r\n.table thead th {\r\n  width: 72vw;\r\n}\r\n.con {\r\n  padding-top: 40px;\r\n}\r\n.con >>> .el-date-picker .el-date-table th {\r\n  width: 32px;\r\n  text-align: center;\r\n}\r\n.work_order >>> .el-date-table th {\r\n  width: 32px;\r\n  text-align: center;\r\n}\r\n.con >>> .el-date-picker .el-date-table__row:nth-child(1) {\r\n  border-top: 1px solid #e5e5e5;\r\n}\r\n</style>\r\n<style>\r\n.el-dialog .el-form > * {\r\n  margin-bottom: 22px;\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/personManagement/train.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"con\"},[_c('div',{staticClass:\"train_record table_box\"},[_c('table',{staticClass:\"table\"},[_vm._m(0),_vm._v(\" \"),(!_vm.isShowQuery)?_c('tbody',[_c('tr',[_c('td',[_vm._v(\"序号\")]),_vm._v(\" \"),_c('td',[_vm._v(\"培训时间\")]),_vm._v(\" \"),_c('td',[_vm._v(\"培训主题\")]),_vm._v(\" \"),_c('td',[_c('el-dropdown',{attrs:{\"trigger\":\"click\"},on:{\"command\":_vm.staffCommand}},[_c('span',{staticClass:\"el-dropdown-link\"},[_vm._v(\"\\n                培训人员\\n                \"),_c('i',{staticClass:\"el-icon-arrow-down el-icon--right\"})]),_vm._v(\" \"),_c('el-dropdown-menu',{attrs:{\"slot\":\"dropdown\"},slot:\"dropdown\"},_vm._l((_vm.staffList),function(item,index){return _c('el-dropdown-item',{key:index,attrs:{\"command\":item.user_name}},[_vm._v(_vm._s(item.user_name))])}),1)],1)],1),_vm._v(\" \"),_c('td',[_vm._v(\"培训文件\")]),_vm._v(\" \"),_c('td',[_c('el-dropdown',{attrs:{\"trigger\":\"click\"},on:{\"command\":_vm.finishCommand}},[_c('span',{staticClass:\"el-dropdown-link\"},[_vm._v(\"\\n                完成情况\\n                \"),_c('i',{staticClass:\"el-icon-arrow-down el-icon--right\"})]),_vm._v(\" \"),_c('el-dropdown-menu',{attrs:{\"slot\":\"dropdown\"},slot:\"dropdown\"},[_c('el-dropdown-item',{attrs:{\"command\":\"1\"}},[_vm._v(\"已完成\")]),_vm._v(\" \"),_c('el-dropdown-item',{attrs:{\"command\":\"0\"}},[_vm._v(\"未完成\")])],1)],1)],1),_vm._v(\" \"),_c('td',[_vm._v(\"分数\")]),_vm._v(\" \"),_c('td',[_vm._v(\"备注\")]),_vm._v(\" \"),_c('td',[_vm._v(\"操作\")])]),_vm._v(\" \"),_vm._l((_vm.trainList),function(item,index){return _c('tr',{key:index},[_c('td',[_vm._v(_vm._s(index + 1))]),_vm._v(\" \"),_c('td',[_vm._v(_vm._s(item.train_date))]),_vm._v(\" \"),_c('td',[_vm._v(_vm._s(item.train_theme))]),_vm._v(\" \"),_c('td',[_vm._v(_vm._s(item.train_user))]),_vm._v(\" \"),_c('td',[_vm._v(_vm._s(item.train_files))]),_vm._v(\" \"),(item.score)?_c('td',[_vm._v(\"已完成\")]):_c('td',[_vm._v(\"未完成\")]),_vm._v(\" \"),_c('td',[_vm._v(_vm._s(item.score))]),_vm._v(\" \"),_c('td',[_vm._v(_vm._s(item.remarks))]),_vm._v(\" \"),_c('td',[_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"mini\"},on:{\"click\":function($event){return _vm.score(item.train_user, item.train_theme)}}},[_vm._v(\"评分\")])],1)])})],2):_c('tbody',[_c('tr',[_c('td',[_vm._v(\"序号\")]),_vm._v(\" \"),_c('td',[_vm._v(\"培训时间\")]),_vm._v(\" \"),_c('td',[_vm._v(\"培训主题\")]),_vm._v(\" \"),_c('td',[_c('el-dropdown',{attrs:{\"trigger\":\"click\"},on:{\"command\":_vm.staffCommand}},[_c('span',{staticClass:\"el-dropdown-link\"},[_vm._v(\"\\n                培训人员\\n                \"),_c('i',{staticClass:\"el-icon-arrow-down el-icon--right\"})]),_vm._v(\" \"),_c('el-dropdown-menu',{attrs:{\"slot\":\"dropdown\"},slot:\"dropdown\"},_vm._l((_vm.staffList),function(item,index){return _c('el-dropdown-item',{key:index,attrs:{\"command\":item.real_name}},[_vm._v(_vm._s(item.real_name))])}),1)],1)],1),_vm._v(\" \"),_c('td',[_vm._v(\"培训文件\")]),_vm._v(\" \"),_c('td',[_c('el-dropdown',{attrs:{\"trigger\":\"click\"},on:{\"command\":_vm.finishCommand}},[_c('span',{staticClass:\"el-dropdown-link\"},[_vm._v(\"\\n                完成情况\\n                \"),_c('i',{staticClass:\"el-icon-arrow-down el-icon--right\"})]),_vm._v(\" \"),_c('el-dropdown-menu',{attrs:{\"slot\":\"dropdown\"},slot:\"dropdown\"},[_c('el-dropdown-item',{attrs:{\"command\":\"1\"}},[_vm._v(\"已完成\")]),_vm._v(\" \"),_c('el-dropdown-item',{attrs:{\"command\":\"0\"}},[_vm._v(\"未完成\")])],1)],1)],1),_vm._v(\" \"),_c('td',[_vm._v(\"分数\")]),_vm._v(\" \"),_c('td',[_vm._v(\"备注\")]),_vm._v(\" \"),_c('td',[_vm._v(\"操作\")])]),_vm._v(\" \"),_vm._l((_vm.newTrainList),function(item,index){return _c('tr',{key:index},[_c('td',[_vm._v(_vm._s(index + 1))]),_vm._v(\" \"),_c('td',[_vm._v(_vm._s(item.train_date))]),_vm._v(\" \"),_c('td',[_vm._v(_vm._s(item.train_theme))]),_vm._v(\" \"),_c('td',[_vm._v(_vm._s(item.train_user))]),_vm._v(\" \"),_c('td',[_vm._v(_vm._s(item.train_files))]),_vm._v(\" \"),(item.score)?_c('td',[_vm._v(\"已完成\")]):_c('td',[_vm._v(\"未完成\")]),_vm._v(\" \"),_c('td',[_vm._v(_vm._s(item.score))]),_vm._v(\" \"),_c('td',[_vm._v(_vm._s(item.remarks))]),_vm._v(\" \"),_c('td',[_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"mini\"},on:{\"click\":function($event){return _vm.score(item.train_user, item.train_theme)}}},[_vm._v(\"评分\")])],1)])})],2)]),_vm._v(\" \"),_c('div',{staticClass:\"train_operation\"},[_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"mini\"},on:{\"click\":_vm.addTask}},[_vm._v(\"培训任务新增\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"mini\"},on:{\"click\":_vm.gatherFile}},[_vm._v(\"培训文档汇总\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"mini\"},on:{\"click\":_vm.addFile}},[_vm._v(\"培训文档新增\")])],1)]),_vm._v(\" \"),_c('el-dialog',{attrs:{\"visible\":_vm.trainTaskDialog.dialogVisible,\"width\":\"30%\",\"center\":\"\"},on:{\"update:visible\":function($event){return _vm.$set(_vm.trainTaskDialog, \"dialogVisible\", $event)},\"close\":_vm.trainTaskDialogClose}},[_c('el-form',{ref:\"trainTaskRef\",attrs:{\"model\":_vm.trainTaskDialog.trainTaskForm,\"rules\":_vm.formRules,\"label-width\":\"100px\"}},[_c('el-form-item',{attrs:{\"label\":\"培训时间\",\"prop\":\"checkedDate\"}},[_c('el-date-picker',{attrs:{\"type\":\"date\",\"placeholder\":\"选择日期\",\"format\":\"yyyy/MM/dd\",\"value-format\":\"yyyy/MM/dd\"},model:{value:(_vm.trainTaskDialog.trainTaskForm.checkedDate),callback:function ($$v) {_vm.$set(_vm.trainTaskDialog.trainTaskForm, \"checkedDate\", $$v)},expression:\"trainTaskDialog.trainTaskForm.checkedDate\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"培训主题\",\"prop\":\"checkedTheme\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择\"},on:{\"change\":_vm.themeChange},model:{value:(_vm.trainTaskDialog.trainTaskForm.checkedTheme),callback:function ($$v) {_vm.$set(_vm.trainTaskDialog.trainTaskForm, \"checkedTheme\", $$v)},expression:\"trainTaskDialog.trainTaskForm.checkedTheme\"}},_vm._l((_vm.themeList),function(item,index){return _c('el-option',{key:index,attrs:{\"label\":item.train_theme,\"value\":item.train_theme}})}),1)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"培训文件\",\"prop\":\"checkedTrainFile\"}},[(_vm.trainTaskDialog.trainTaskForm.checkedTheme.length > 0)?_c('el-checkbox-group',{model:{value:(_vm.trainTaskDialog.trainTaskForm.checkedTrainFile),callback:function ($$v) {_vm.$set(_vm.trainTaskDialog.trainTaskForm, \"checkedTrainFile\", $$v)},expression:\"trainTaskDialog.trainTaskForm.checkedTrainFile\"}},_vm._l((_vm.trainFileList),function(item,index){return _c('el-checkbox',{key:index,attrs:{\"label\":item}})}),1):_vm._e()],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"培训人员\",\"prop\":\"checkedTrainStaff\"}},[_c('el-checkbox-group',{model:{value:(_vm.trainTaskDialog.trainTaskForm.checkedTrainStaff),callback:function ($$v) {_vm.$set(_vm.trainTaskDialog.trainTaskForm, \"checkedTrainStaff\", $$v)},expression:\"trainTaskDialog.trainTaskForm.checkedTrainStaff\"}},_vm._l((_vm.staffList),function(item,index){return _c('el-checkbox',{key:index,attrs:{\"label\":item.user_name}})}),1)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"备注\",\"prop\":\"desc\"}},[_c('el-input',{attrs:{\"type\":\"textarea\"},model:{value:(_vm.trainTaskDialog.trainTaskForm.desc),callback:function ($$v) {_vm.$set(_vm.trainTaskDialog.trainTaskForm, \"desc\", $$v)},expression:\"trainTaskDialog.trainTaskForm.desc\"}})],1)],1),_vm._v(\" \"),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.addTaskConfirm}},[_vm._v(\"确定新增\")])],1)],1),_vm._v(\" \"),_c('el-dialog',{attrs:{\"visible\":_vm.trainFileDialog.dialogVisible,\"width\":\"50%\",\"center\":\"\"},on:{\"update:visible\":function($event){return _vm.$set(_vm.trainFileDialog, \"dialogVisible\", $event)}}},[_c('table',[_c('thead',[_c('tr',[_c('th',[_vm._v(\"培训主题\")]),_vm._v(\" \"),_c('th',[_vm._v(\"培训文件名\")]),_vm._v(\" \"),_c('th',[_vm._v(\"上传时间\")]),_vm._v(\" \"),_c('th',[_vm._v(\"操作\")])])]),_vm._v(\" \"),_c('tbody',_vm._l((_vm.trainFileDialog.trainFileList),function(item,index){return _c('tr',{key:index},[_c('td',[_vm._v(_vm._s(item.train_theme))]),_vm._v(\" \"),_c('td',[_vm._v(_vm._s(item.train_file))]),_vm._v(\" \"),_c('td',[_vm._v(_vm._s(item.upload_date))]),_vm._v(\" \"),_c('td',[_c('el-button',{attrs:{\"type\":\"danger\",\"size\":\"mini\"},on:{\"click\":function($event){return _vm.removeTrainFile(item.train_theme, item.train_file)}}},[_vm._v(\"删除\")])],1)])}),0)])]),_vm._v(\" \"),_c('el-dialog',{attrs:{\"visible\":_vm.addFileDialog.dialogVisible,\"width\":\"30%\",\"center\":\"\"},on:{\"update:visible\":function($event){return _vm.$set(_vm.addFileDialog, \"dialogVisible\", $event)},\"close\":_vm.addFileDialogClose}},[_c('el-form',{ref:\"addFileRef\",attrs:{\"model\":_vm.addFileDialog.addFileForm,\"rules\":_vm.formRules,\"label-width\":\"100px\"}},[_c('el-form-item',{attrs:{\"label\":\"培训主题\",\"prop\":\"checkedTheme\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择\"},on:{\"change\":_vm.newThemeChange},model:{value:(_vm.addFileDialog.addFileForm.checkedTheme),callback:function ($$v) {_vm.$set(_vm.addFileDialog.addFileForm, \"checkedTheme\", $$v)},expression:\"addFileDialog.addFileForm.checkedTheme\"}},_vm._l((_vm.themeList),function(item,index){return _c('el-option',{key:index,attrs:{\"label\":item.train_theme,\"value\":item.train_theme}})}),1)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"添加主题\",\"prop\":\"addThemeName\"}},[_c('el-input',{attrs:{\"disabled\":_vm.addFileDialog.addThemeNameDisabled},model:{value:(_vm.addFileDialog.addFileForm.addThemeName),callback:function ($$v) {_vm.$set(_vm.addFileDialog.addFileForm, \"addThemeName\", $$v)},expression:\"addFileDialog.addFileForm.addThemeName\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"上传文件\",\"prop\":\"file\"}},[_c('input',{ref:\"uploadTrainDoc\",attrs:{\"type\":\"file\"},on:{\"change\":_vm.fileChange}})])],1),_vm._v(\" \"),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.addFileConfirm}},[_vm._v(\"提交\")])],1)],1),_vm._v(\" \"),_c('el-dialog',{attrs:{\"visible\":_vm.scoreDialog.dialogVisible,\"width\":\"30%\",\"center\":\"\"},on:{\"update:visible\":function($event){return _vm.$set(_vm.scoreDialog, \"dialogVisible\", $event)},\"close\":_vm.scoreDialogClose}},[_c('el-form',{ref:\"scoreFormRef\",attrs:{\"model\":_vm.scoreDialog.scoreForm,\"label-width\":\"80px\",\"rules\":_vm.formRules}},[_c('el-form-item',{attrs:{\"label\":\"培训人员\",\"prop\":\"staff\"}},[_c('el-input',{attrs:{\"disabled\":true},model:{value:(_vm.scoreDialog.scoreForm.staff),callback:function ($$v) {_vm.$set(_vm.scoreDialog.scoreForm, \"staff\", $$v)},expression:\"scoreDialog.scoreForm.staff\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"培训主题\",\"prop\":\"theme\"}},[_c('el-input',{attrs:{\"disabled\":true},model:{value:(_vm.scoreDialog.scoreForm.theme),callback:function ($$v) {_vm.$set(_vm.scoreDialog.scoreForm, \"theme\", $$v)},expression:\"scoreDialog.scoreForm.theme\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"评分\",\"prop\":\"score\"}},[_c('el-input',{model:{value:(_vm.scoreDialog.scoreForm.score),callback:function ($$v) {_vm.$set(_vm.scoreDialog.scoreForm, \"score\", _vm._n($$v))},expression:\"scoreDialog.scoreForm.score\"}})],1)],1),_vm._v(\" \"),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.scoreConfirm}},[_vm._v(\"确 定\")])],1)],1)],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('thead',[_c('tr',[_c('th',{staticStyle:{\"width\":\"72vw\"},attrs:{\"colspan\":\"8\"}},[_vm._v(\"培训记录\")])])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-28224642\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/personManagement/train.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-28224642\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./train.vue\")\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-28224642\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=1!./train.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./train.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./train.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-28224642\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./train.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-28224642\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/personManagement/train.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}