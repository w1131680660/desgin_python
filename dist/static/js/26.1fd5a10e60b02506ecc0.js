webpackJsonp([26],{NRTJ:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n("mvHQ"),r=n.n(a),i=n("Gu7T"),s=n.n(i),o={data:function(){return{form:{channel:"",store:"",country:""},channels:[],stations:[],countrys:[],data1:[],data2:[],mp_list:[],gm_list:[],getformFlag:!1}},computed:{all_price_guidance:function(){return[].concat(s()(this.mp_list_form),s()(this.gm_list_form))},all_actual_price:function(){return[].concat(s()(this.mp_list_yester),s()(this.gm_list_yester))},mp_list_form:function(){var t=[];return this.mp_list.forEach(function(e){var n={};n.spu=e,n.guidance_price_auto="",n.guidance_price_manual="",t.push(n)}),t},gm_list_form:function(){var t=[];return this.gm_list.forEach(function(e){var n={};n.spu=e,n.guidance_price_auto="",n.guidance_price_manual="",t.push(n)}),t},mp_list_yester:function(){var t=[];return this.mp_list.forEach(function(e){var n={};n.spu=e,n.actual_price_auto="",n.actual_price_manual="",n.advertisement_proportion="",t.push(n)}),t},gm_list_yester:function(){var t=[];return this.gm_list.forEach(function(e){var n={};n.spu=e,n.actual_price_auto="",n.actual_price_manual="",n.advertisement_proportion="",t.push(n)}),t}},methods:{changeInput1:function(t){console.log(t)},submit1:function(){var t=this,e=new FormData,n=[];if(this.all_price_guidance.forEach(function(t){(t.guidance_price_auto||t.guidance_price_manual)&&n.push(t)}),console.log("修改了的数据",n),this.getformFlag){if(0!==n.length){var a=new Date,i=a.getFullYear()+"-"+(a.getMonth()+1)+"-"+a.getDate();console.log("日期",i);for(var s in this.form)"store"===s?e.append("station",this.form[s]):e.append(s,this.form[s]);e.append("dates",i),e.append("datas",r()(n)),e.append("type","guidance_price");this.$axios.post(this._url2+"server/order_management/advertisement_guidance_synchro/",e).then(function(e){200===e.data.code?(alert("提交成功"),t.mp_list=[],t.gm_list=[],t.changeOpt("country")):alert("未提交成功！")})}}else alert("请选择渠道站点国家！")},submit2:function(){var t=this,e=new FormData,n=[];if(this.all_actual_price.forEach(function(t){(t.actual_price_auto||t.actual_price_manual||t.advertisement_proportion)&&n.push(t)}),console.log("修改了的数据",n),this.getformFlag){if(0!==n.length){var a=new Date;a.setTime(a.getTime()-864e5);var i=a.getFullYear()+"-"+(a.getMonth()+1)+"-"+a.getDate();console.log("日期",i);for(var s in this.form)"store"===s?e.append("station",this.form[s]):e.append(s,this.form[s]);e.append("dates",i),e.append("datas",r()(n)),e.append("type","actual_price");this.$axios.post(this._url2+"server/order_management/advertisement_guidance_synchro/",e).then(function(e){200===e.data.code?(alert("提交成功"),t.mp_list=[],t.gm_list=[],t.changeOpt("country")):alert("未提交成功！")})}}else alert("请选择渠道站点国家！")},row_click:function(t){console.log(t)},getCommon:function(){var t=this;this.channels=[],this.stations=[],this.$axios.get(this._url2+"server/personnel_management/get_sign_country/").then(function(e){t.channels.push(e.data.data1),t.countrys=e.data.data,t.form.channel=t.channels[0],t.changeOpt("channel"),t.countrys.length&&(console.log(111),t.form.country=t.countrys[0],t.changeOpt("country"))})},changeOpt:function(t){var e=this;if(this.getformFlag=!1,this.mp_list=[],this.gm_list=[],"country"===t){if(this.stations=[],this.form.store="all","all"===this.form.country)return;this.$axios.get(this._url2+"server/personnel_management/get_sign_area/",{params:{country:this.form.country}}).then(function(t){e.stations=t.data.data,e.form.store=e.stations[0],e.changeOpt("store")})}else if("store"===t){if("all"===t)return;for(var n in this.form)if("all"===this.form[n])return void alert("请选择渠道国家站点！");this.getformFlag=!0;var a={};for(var r in this.form)a[r]=this.form[r];this.$axios.get(this._url2+"server/order_management/get_spu/",{params:a}).then(function(t){console.log(t),e.mp_list=t.data.mp_list,e.gm_list=t.data.gm_list})}},changeTest:function(){this.$forceUpdate()},inputNum:function(t){var e=t.key;return"e"!==e&&"-"!==e||(t.returnValue=!1,!1)}},created:function(){this.getCommon()}},l={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"synchronous_advertising_guidance"}},[n("div",{staticClass:"leftMenu"},[n("el-form",{staticStyle:{width:"300px"},attrs:{model:t.form,"label-width":"80px"}},[n("el-form-item",{attrs:{label:"渠道"}},[n("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"",placeholder:"请选择渠道"},on:{change:function(e){return t.changeOpt("channel")}},model:{value:t.form.channel,callback:function(e){t.$set(t.form,"channel",e)},expression:"form.channel"}},[n("el-option",{attrs:{value:"all",label:"全部"}}),t._v(" "),t._l(t.channels,function(t,e){return n("el-option",{key:e,attrs:{label:t,value:t}})})],2)],1),t._v(" "),n("el-form-item",{attrs:{label:"国家"}},[n("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"",placeholder:"请选择渠道"},on:{change:function(e){return t.changeOpt("country")}},model:{value:t.form.country,callback:function(e){t.$set(t.form,"country",e)},expression:"form.country"}},[n("el-option",{attrs:{value:"all",label:"全部"}}),t._v(" "),t._l(t.countrys,function(t,e){return n("el-option",{key:e,attrs:{label:t,value:t}})})],2)],1),t._v(" "),n("el-form-item",{attrs:{label:"站点"}},[n("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"",placeholder:"请选择站点"},on:{change:function(e){return t.changeOpt("store")}},model:{value:t.form.store,callback:function(e){t.$set(t.form,"store",e)},expression:"form.store"}},[n("el-option",{attrs:{value:"all",label:"全部"}}),t._v(" "),t._l(t.stations,function(t,e){return n("el-option",{key:e,attrs:{label:t,value:t}})})],2)],1)],1)],1),t._v(" "),n("div",{staticClass:"rightTable"},[n("div",{staticClass:"today_guide_price"},[n("div",[n("table",[t._m(0),t._v(" "),n("tbody",[t._m(1),t._v(" "),t._m(2),t._v(" "),t._l(t.mp_list_form,function(e){return n("tr",{key:e.spu},[n("td",[t._v(t._s(e.spu))]),t._v(" "),n("td",[n("el-input",{staticClass:"no-number",attrs:{type:"number",placeholder:"请输入自动指导价"},on:{input:t.changeTest},nativeOn:{keydown:function(e){return t.inputNum(e)}},model:{value:e.guidance_price_auto,callback:function(n){t.$set(e,"guidance_price_auto",n)},expression:"item.guidance_price_auto"}})],1),t._v(" "),n("td",[n("el-input",{staticClass:"no-number",attrs:{type:"number",placeholder:"请输入手动指导价"},on:{input:t.changeTest},nativeOn:{keydown:function(e){return t.inputNum(e)}},model:{value:e.guidance_price_manual,callback:function(n){t.$set(e,"guidance_price_manual",n)},expression:"item.guidance_price_manual"}})],1)])}),t._v(" "),t._m(3),t._v(" "),t._l(t.gm_list_form,function(e){return n("tr",{key:e.spu},[n("td",[t._v(t._s(e.spu))]),t._v(" "),n("td",[n("el-input",{staticClass:"no-number",attrs:{type:"number",placeholder:"请输入自动指导价"},on:{input:t.changeTest},nativeOn:{keydown:function(e){return t.inputNum(e)}},model:{value:e.guidance_price_auto,callback:function(n){t.$set(e,"guidance_price_auto",n)},expression:"item.guidance_price_auto"}})],1),t._v(" "),n("td",[n("el-input",{staticClass:"no-number",attrs:{type:"number",placeholder:"请输入手动指导价"},on:{input:t.changeTest},nativeOn:{keydown:function(e){return t.inputNum(e)}},model:{value:e.guidance_price_manual,callback:function(n){t.$set(e,"guidance_price_manual",n)},expression:"item.guidance_price_manual"}})],1)])})],2)])]),t._v(" "),n("div",{staticClass:"btn"},[n("el-button",{attrs:{type:"primary"},on:{click:t.submit1}},[t._v("提交")])],1)]),t._v(" "),n("div",{staticClass:"yesterday_cost"},[n("div",[n("table",[t._m(4),t._v(" "),n("tbody",[t._m(5),t._v(" "),t._m(6),t._v(" "),t._l(t.mp_list_yester,function(e){return n("tr",{key:e.spu+1},[n("td",[t._v(t._s(e.spu))]),t._v(" "),n("td",[n("el-input",{staticClass:"no-number",attrs:{type:"number",placeholder:"请输入实际花费(自动)"},on:{input:t.changeTest},nativeOn:{keydown:function(e){return t.inputNum(e)}},model:{value:e.actual_price_auto,callback:function(n){t.$set(e,"actual_price_auto",n)},expression:"item.actual_price_auto"}})],1),t._v(" "),n("td",[n("el-input",{staticClass:"no-number",attrs:{type:"number",placeholder:"请输入实际花费(手动)"},on:{input:t.changeTest},nativeOn:{keydown:function(e){return t.inputNum(e)}},model:{value:e.actual_price_manual,callback:function(n){t.$set(e,"actual_price_manual",n)},expression:"item.actual_price_manual"}})],1),t._v(" "),n("td",[n("el-input",{staticClass:"no-number",attrs:{type:"number",placeholder:"请输入广告比"},on:{input:t.changeTest},nativeOn:{keydown:function(e){return t.inputNum(e)}},model:{value:e.advertisement_proportion,callback:function(n){t.$set(e,"advertisement_proportion",n)},expression:"item.advertisement_proportion"}})],1)])}),t._v(" "),t._m(7),t._v(" "),t._l(t.gm_list_yester,function(e){return n("tr",{key:e.spu+1},[n("td",[t._v(t._s(e.spu))]),t._v(" "),n("td",[n("el-input",{staticClass:"no-number",attrs:{type:"number",placeholder:"请输入实际花费(自动)"},on:{input:t.changeTest},nativeOn:{keydown:function(e){return t.inputNum(e)}},model:{value:e.actual_price_auto,callback:function(n){t.$set(e,"actual_price_auto",n)},expression:"item.actual_price_auto"}})],1),t._v(" "),n("td",[n("el-input",{staticClass:"no-number",attrs:{type:"number",placeholder:"请输入实际花费(手动)"},on:{input:t.changeTest},nativeOn:{keydown:function(e){return t.inputNum(e)}},model:{value:e.actual_price_manual,callback:function(n){t.$set(e,"actual_price_manual",n)},expression:"item.actual_price_manual"}})],1),t._v(" "),n("td",[n("el-input",{staticClass:"no-number",attrs:{type:"number",placeholder:"请输入广告比"},on:{input:t.changeTest},nativeOn:{keydown:function(e){return t.inputNum(e)}},model:{value:e.advertisement_proportion,callback:function(n){t.$set(e,"advertisement_proportion",n)},expression:"item.advertisement_proportion"}})],1)])})],2)])]),t._v(" "),n("div",{staticClass:"btn"},[n("el-button",{attrs:{type:"primary"},on:{click:t.submit2}},[t._v("提交")])],1)])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("thead",[e("tr",[e("th",{attrs:{colspan:"3"}},[this._v("\n                今日指导价\n              ")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("tr",[e("td"),this._v(" "),e("td",[this._v("自动")]),this._v(" "),e("td",[this._v("手动")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("tr",[e("td",{attrs:{colspan:"3"}},[this._v("魔片")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("tr",[e("td",{attrs:{colspan:"3"}},[this._v("钢木")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("thead",[e("tr",[e("th",{attrs:{colspan:"4"}},[this._v("\n                昨日花费\n              ")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("tr",[e("td"),this._v(" "),e("td",[this._v("实际花费(自动)")]),this._v(" "),e("td",[this._v("实际花费(手动)")]),this._v(" "),e("td",[this._v("广告比")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("tr",[e("td",{attrs:{colspan:"4"}},[this._v("魔片")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("tr",[e("td",{attrs:{colspan:"4"}},[this._v("钢木")])])}]};var c=n("VU/8")(o,l,!1,function(t){n("mJ7L"),n("kTHg")},"data-v-c439501e",null);e.default=c.exports},kTHg:function(t,e){},mJ7L:function(t,e){}});
//# sourceMappingURL=26.1fd5a10e60b02506ecc0.js.map