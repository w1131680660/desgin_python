webpackJsonp([60],{T2dS:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n={name:"",props:{},components:{},data:function(){return{curIndex:0,menuPlatFormList:[],menuCountryList:[],menuSiteList:[],showCountryList:[],showSiteList:[],lastSiteList:[],checkedPlatform:"",checkedCountry:"",checkedSite:"",checkedType:"钢木",stockMonitorList:[],containerList:[],tableFinalList:["在途数量","库存合计","均单量","预计售空日期","提示"],tableLoading:!0,total:0,currentPage:1}},computed:{},watch:{},methods:{getMenuList:function(){var t=this;this.$api.getStockMenuList().then(function(e){t.menuPlatFormList=e.data.platform_list,t.menuCountryList=e.data.country_list,t.menuSiteList=e.data.site_list,t.showCountryList=t.menuCountryList[0],t.showSiteList=t.menuSiteList[0],t.lastSiteList=t.showSiteList[0],t.checkedPlatform=t.menuPlatFormList[0],t.checkedCountry=t.showCountryList[0],t.checkedSite=t.lastSiteList[0],t.getContainerList(),t.thirdClick(t.checkedPlatform,t.checkedCountry,t.checkedSite)})},getContainerList:function(){var t=this;this.$api.stockMonitor(this.checkedPlatform,this.checkedCountry,this.checkedSite,this.checkedType,this.currentPage).then(function(e){console.log(e),t.containerList=e.data.header})},onceClick:function(t){this.showCountryList=[],this.showSiteList=[],this.showCountryList=this.menuCountryList[t],this.showSiteList=this.menuSiteList[t]},secondClick:function(t){console.log(t),this.lastSiteList=[],this.lastSiteList=this.showSiteList[t]},thirdClick:function(t,e,i){var n=this;this.checkedPlatform=t,this.checkedCountry=e,this.checkedSite=i,this.tableLoading=!0,this.$api.stockMonitor(t,e,i,this.checkedType,this.currentPage).then(function(t){console.log(t),n.tableLoading=!1,n.stockMonitorList=t.data.data,n.total=t.data.all_number})},typeClick:function(t){"钢木"===t?this.curIndex=0:"魔片"===t&&(this.curIndex=1),this.checkedType=t,this.thirdClick(this.checkedPlatform,this.checkedCountry,this.checkedSite)},handleCurrentChange:function(t){this.currentPage=t,this.thirdClick(this.checkedPlatform,this.checkedCountry,this.checkedSite)}},created:function(){this.getMenuList()},mounted:function(){}},s={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"ipi-board"}},[i("div",{staticClass:"left",staticStyle:{"text-align":"center"}},[t._m(0),t._v(" "),i("div",{staticClass:"left-content"},[i("h3",[t._v("请选择店铺")]),t._v(" "),i("el-menu",{staticClass:"el-menu-vertical-demo",attrs:{"default-active":"0-0-0","unique-opened":""}},t._l(t.menuPlatFormList,function(e,n){return i("el-submenu",{key:n,attrs:{index:n+""}},[i("template",{slot:"title"},[i("span",{staticStyle:{display:"inline-block",width:"100%"},on:{click:function(e){return t.onceClick(n)}}},[t._v(t._s(e))])]),t._v(" "),t._l(t.showCountryList,function(s,c){return i("el-submenu",{key:c,attrs:{index:n+"-"+c}},[i("template",{slot:"title"},[i("span",{staticStyle:{display:"inline-block",width:"100%"},on:{click:function(e){return t.secondClick(c)}}},[t._v(t._s(s))])]),t._v(" "),t._l(t.lastSiteList,function(a,o){return i("el-menu-item",{key:o,attrs:{index:n+"-"+c+"-"+o},on:{click:function(i){return t.thirdClick(e,s,a)}}},[i("span",[t._v(t._s(a))])])})],2)})],2)}),1)],1)]),t._v(" "),i("div",{staticClass:"right"},[i("div",{staticClass:"table"},[i("el-button",{style:{"background-color":0===t.curIndex?"#66b1ff":"",color:0===t.curIndex?"#fff":""},attrs:{size:"mini"},on:{click:function(e){return t.typeClick("钢木")}}},[t._v("钢木")]),t._v(" "),i("el-button",{style:{"background-color":1===t.curIndex?"#66b1ff":"",color:1===t.curIndex?"#fff":""},attrs:{size:"mini"},on:{click:function(e){return t.typeClick("魔片")}}},[t._v("魔片")]),t._v(" "),i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.tableLoading,expression:"tableLoading"}],staticStyle:{width:"100%"},attrs:{data:t.stockMonitorList,border:"","max-height":"700","element-loading-text":"拼命加载中","element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(255, 255, 255, 0.8)"}},[i("af-table-column",{attrs:{width:"130",prop:"0",label:"spu"}}),t._v(" "),i("af-table-column",{attrs:{width:"160",prop:"1",label:"sku"}}),t._v(" "),i("el-table-column",{attrs:{prop:"2",label:"fba"}}),t._v(" "),t._l(t.containerList,function(t,e){return i("el-table-column",{key:e,attrs:{prop:3+e+"",label:t}})}),t._v(" "),t._l(t.tableFinalList,function(e,n){return i("el-table-column",{key:n+"a",attrs:{prop:3+t.containerList.length+n+"",label:e}})})],2),t._v(" "),i("el-pagination",{attrs:{"current-page":t.currentPage,"page-size":50,layout:"prev, pager, next, jumper",total:t.total},on:{"current-change":t.handleCurrentChange,"update:currentPage":function(e){t.currentPage=e},"update:current-page":function(e){t.currentPage=e}}})],1)])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"title"},[e("h2",[this._v("库存监测")])])}]};var c=i("VU/8")(n,s,!1,function(t){i("Wae+")},"data-v-fa24cbb6",null);e.default=c.exports},"Wae+":function(t,e){}});
//# sourceMappingURL=60.7521f48dc7ffa3fdcba6.js.map