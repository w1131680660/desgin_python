webpackJsonp([8],{"9EV3":function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a={components:{OrderReportCom:o("zwF5").a}},r={render:function(){var e=this.$createElement,t=this._self._c||e;return t("order-report-com",{attrs:{type:"report"}},[t("h2",{attrs:{slot:"title"},slot:"title"},[this._v("历史订单报告")])])},staticRenderFns:[]};var n=o("VU/8")(a,r,!1,function(e){o("rPfW"),o("O8hM")},"data-v-b038ef76",null);t.default=n.exports},DCK5:function(e,t){},O8hM:function(e,t){},izTy:function(e,t){},rPfW:function(e,t){},zwF5:function(e,t,o){"use strict";var a={data:function(){return{countries:[],channels:["Amazon"],getdays:["2020-07-01"],selectOpts:[],resultData:[],showGenarateTable:!1,monthDisabled:!1,dayDisabled:!1,form:{channel:"",store:"",country:"",dayPick:"",monthPick:""},monthList:"",month_pickerOptions:{disabledDate:function(e){return e.getTime()>(new Date).getTime()}},day_pickerOptions:{disabledDate:function(e){return e.getTime()>(new Date).getTime()-864e5}}}},props:["type"],created:function(){var e=this;console.log(this._url2),this.$axios.get(this._url2+"server/databases/get_store_country/").then(function(t){console.log(t),e.selectOpts=t.data.data,console.log(e.selectOpts)})},methods:{onSubmit:function(){var e=this;this.form.channel&&this.form.store&&this.form.country&&(this.form.dayPick||this.form.monthPick)?(this.monthDisabled=!1,this.dayDisabled=!1,console.log(this.form),this.$axios.get(this._url2+"server/databases/get_all_order/",{params:{channel:this.form.channel,store:this.form.store,country:this.form.country,date:this.form.dayPick||this.form.monthPick,type:this.type}}).then(function(t){console.log(t.data.data),e.resultData=t.data.data}),this.form={},this.showGenarateTable=!0):alert("请选择选项")},change:function(e){console.log(e),console.log("我改变啦"),"日期"===e?this.monthDisabled=!0:this.dayDisabled=!0},changeStore:function(e){for(var t in this.countries=[],this.selectOpts){var o=this.selectOpts[t];console.log(e),o.store===e&&(this.countries=o.countries)}},handleEdit:function(e,t){console.log(e,t)}}},r={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"contain_block"},[e._t("title"),e._v(" "),o("div",[o("el-form",{ref:"form",attrs:{model:e.form,"label-width":"80px"}},[o("el-form-item",{attrs:{label:"渠道"}},[o("el-select",{attrs:{placeholder:"请选择渠道"},model:{value:e.form.channel,callback:function(t){e.$set(e.form,"channel",t)},expression:"form.channel"}},e._l(e.channels,function(e,t){return o("el-option",{key:t,attrs:{label:e,value:e}})}),1)],1),e._v(" "),o("el-form-item",{attrs:{label:"站点"}},[o("el-select",{attrs:{placeholder:"请选择站点"},on:{change:e.changeStore},model:{value:e.form.store,callback:function(t){e.$set(e.form,"store",t)},expression:"form.store"}},e._l(e.selectOpts,function(e,t){return o("el-option",{key:t,attrs:{label:e.store,value:e.store}})}),1)],1),e._v(" "),o("el-form-item",{attrs:{label:"国家"}},[o("el-select",{attrs:{placeholder:"请选择国家"},model:{value:e.form.country,callback:function(t){e.$set(e.form,"country",t)},expression:"form.country"}},e._l(e.countries,function(e,t){return o("el-option",{key:t,attrs:{label:e,value:e}})}),1)],1),e._v(" "),o("div",{staticClass:"picker"},[o("label",[e._v("时间")]),e._v(" "),o("el-date-picker",{attrs:{disabled:e.dayDisabled,type:"date","picker-options":e.day_pickerOptions,placeholder:"选择日期","value-format":"yyyy-MM-dd"},on:{change:function(t){return e.change("日期")}},model:{value:e.form.dayPick,callback:function(t){e.$set(e.form,"dayPick",t)},expression:"form.dayPick"}})],1),e._v(" "),o("div",{staticClass:"picker"},[o("label",[e._v("月份")]),e._v(" "),o("el-date-picker",{attrs:{disabled:e.monthDisabled,format:"yyyy 年 MM 月","value-format":"yyyy-MM",type:"month","picker-options":e.month_pickerOptions,placeholder:"选择月份"},on:{change:function(t){return e.change("月份")}},model:{value:e.form.monthPick,callback:function(t){e.$set(e.form,"monthPick",t)},expression:"form.monthPick"}})],1),e._v(" "),o("el-form-item",[o("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("生成")])],1)],1),e._v(" "),o("h3",{directives:[{name:"show",rawName:"v-show",value:e.showGenarateTable,expression:"showGenarateTable"}]},[e._v("生成结果")]),e._v(" "),o("div",{directives:[{name:"show",rawName:"v-show",value:e.showGenarateTable,expression:"showGenarateTable"}]},[o("el-table",{ref:"singleTable",staticStyle:{width:"100%"},attrs:{border:"",data:e.resultData,"highlight-current-row":""}},[o("el-table-column",{attrs:{type:"index",width:"50",label:"序号"}}),e._v(" "),o("el-table-column",{attrs:{property:"channel",label:"渠道",width:"120"}}),e._v(" "),o("el-table-column",{attrs:{property:"store",label:"站点",width:"120"}}),e._v(" "),o("el-table-column",{attrs:{property:"country",label:"国家"}}),e._v(" "),o("el-table-column",{attrs:{property:"date",label:"时间"}}),e._v(" "),o("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("a",{staticClass:"download",attrs:{href:e._url3+"order_report_download/?channel="+t.row.channel+"&store="+t.row.store+"&country="+t.row.country+"&date="+t.row.date+"&type=report",download:t.row.file_name}},[e._v("下载")])]}}])})],1)],1)],1)],2)},staticRenderFns:[]};var n=o("VU/8")(a,r,!1,function(e){o("izTy"),o("DCK5")},"data-v-80f46b90",null);t.a=n.exports}});
//# sourceMappingURL=8.af7c783205dbd9c0057f.js.map