"use strict";"object"!=typeof window.CP&&(window.CP={}),window.CP.PenTimer={programNoLongerBeingMonitored:!1,timeOfFirstCallToShouldStopLoop:0,_loopExits:{},_loopTimers:{},START_MONITORING_AFTER:2000,STOP_ALL_MONITORING_TIMEOUT:5000,MAX_TIME_IN_LOOP_WO_EXIT:2200,exitedLoop:function(a){this._loopExits[a]=!0},shouldStopLoop:function(b){if(this.programKilledSoStopMonitoring){return !0}if(this.programNoLongerBeingMonitored){return !1}if(this._loopExits[b]){return !1}var c=this._getTime();if(0===this.timeOfFirstCallToShouldStopLoop){return this.timeOfFirstCallToShouldStopLoop=c,!1}var a=c-this.timeOfFirstCallToShouldStopLoop;if(a<this.START_MONITORING_AFTER){return !1}if(a>this.STOP_ALL_MONITORING_TIMEOUT){return this.programNoLongerBeingMonitored=!0,!1}try{this._checkOnInfiniteLoop(b,c)}catch(b){return this._sendErrorMessageToEditor(),this.programKilledSoStopMonitoring=!0,!0}return !1},_sendErrorMessageToEditor:function(){try{if(this._shouldPostMessage()){var a={action:"infinite-loop",line:this._findAroundLineNumber()};parent.postMessage(JSON.stringify(a),"*")}else{this._throwAnErrorToStopPen()}}catch(a){this._throwAnErrorToStopPen()}},_shouldPostMessage:function(){return document.location.href.match(/boomerang/)},_throwAnErrorToStopPen:function(){throw"We found an infinite loop in your Pen. We've stopped the Pen from running. Please correct it or contact support@codepen.io."},_findAroundLineNumber:function(){var b=new Error,c=0;if(b.stack){var a=b.stack.match(/boomerang\S+:(\d+):\d+/);a&&(c=a[1])}return c},_checkOnInfiniteLoop:function(b,c){if(!this._loopTimers[b]){return this._loopTimers[b]=c,!1}var a=c-this._loopTimers[b];if(a>this.MAX_TIME_IN_LOOP_WO_EXIT){throw"Infinite Loop found on loop: "+b}},_getTime:function(){return +new Date}},window.CP.shouldStopExecution=function(a){var b=window.CP.PenTimer.shouldStopLoop(a);return b===!0&&console.warn("[CodePen]: An infinite loop (or a loop taking too long) was detected, so we stopped its execution. Sorry!"),b},window.CP.exitedLoop=function(a){window.CP.PenTimer.exitedLoop(a)};