webpackJsonp([86],{Jno3:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a("lHA8"),s=a.n(n),o=a("Gu7T"),i=a.n(o),r=(a("mtWM"),{data:function(){return{site:"",country:"",goodsType:"",stockType:"",stockName:"",state:"",containerNo:"",siteList:[],countryList:[],goodsTypeList:[],stockTypeList:[],stockNameList:[],stateList:[],containerList:[],tableData:[],cacheData:[],total:0,page:1}},methods:{getDefaultData:function(){var t=this;this.tableData=[],this.$api.queryContainList(this.country,this.site,this.goodsType,this.stockType,this.stockName,this.containerNo,this.page).then(function(e){console.log(e),t.total=e.data.all_row,t.tableData=t.$utils.deepClone(e.data.data);for(var a=t.$utils.deepClone(e.data.select_factory_res),n=t.$utils.deepClone(e.data.select_delivery_res),s=t.$utils.deepClone(e.data.select_receive_res),o=t.$utils.deepClone(e.data.select_number_res),i=0;i<t.tableData.length;i++)for(var r=i+1;r<t.tableData.length;r++)t.tableData[i].container_num===t.tableData[r].container_num&&(t.tableData.splice(r,1),r--);t.tableData.forEach(function(t,e){a.forEach(function(e){e.supplier===t.factory&&("mp"===e.types?t.goodsType="魔片":t.goodsType="钢木")}),s.forEach(function(e){e.container_no===t.container_num&&(t.arriveDate=e.arrival_date,t.warehousingDate=e.warehousing_date,t.receiveCount=e.receive_count,t.deliveryDate=e.delivery_date)}),t.issueCount="0";var i=0,r=o.find(function(e){return e.container_num===t.container_num});r&&(r=r["count(id)"],console.log(r)),n.forEach(function(e,a){e.delivery_container===t.container_num&&(i++,t.issueCount=parseInt(t.issueCount)+parseInt(e.numbers),t.shippingDate=e.delivery_date)}),r&&i==r&&!t.warehousingDate?t.state="已装柜":r||!t.shippingDate||t.warehousingDate?r&&i==r&&t.warehousingDate?t.state="已入仓":!r&&t.shippingDate&&t.warehousingDate?t.state="已入仓":t.state="未装柜":t.state="已装柜"})})},handleCurrentChange:function(t){this.page=t,this.getDefaultData()},goCotainerSearchSku:function(){this.$router.push("/CotainerSearchSku")},searchCotainer:function(){this.page=1,this.getDefaultData()},getBesideList:function(){var t=this;this.$api.getContainBeside().then(function(e){console.log(e),t.countryList=[].concat(i()(new s.a(e.data.country_list))),t.goodsTypeList=[].concat(i()(new s.a(e.data.product_type_list))),t.siteList=[].concat(i()(new s.a(e.data.site_list))),t.stockNameList=[].concat(i()(new s.a(e.data.warehouse_name_list))),t.stockTypeList=[].concat(i()(new s.a(e.data.warehouse_type_list))),t.containerList=[].concat(i()(new s.a(e.data.container_list)))})}},created:function(){this.getDefaultData(),this.getBesideList()},watch:{}}),l={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{display:"flex"}},[a("div",{staticClass:"leftDiv"},[a("h3",{},[t._v("货柜检索")]),t._v(" "),a("div",{staticStyle:{"margin-left":"2.2vw"}},[t._v("\n      国家\n      "),a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.country,callback:function(e){t.country=e},expression:"country"}},t._l(t.countryList,function(t,e){return a("el-option",{key:e,attrs:{label:t,value:t}})}),1)],1),t._v(" "),a("div",{staticStyle:{"margin-left":"2.2vw"}},[t._v("\n      站点\n      "),a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.site,callback:function(e){t.site=e},expression:"site"}},t._l(t.siteList,function(t,e){return a("el-option",{key:e,attrs:{label:t,value:t}})}),1)],1),t._v(" "),a("div",[t._v("\n      货物类型\n      "),a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.goodsType,callback:function(e){t.goodsType=e},expression:"goodsType"}},t._l(t.goodsTypeList,function(t,e){return a("el-option",{key:e,attrs:{label:t,value:t}})}),1)],1),t._v(" "),a("div",[t._v("\n      仓库类型\n      "),a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.stockType,callback:function(e){t.stockType=e},expression:"stockType"}},t._l(t.stockTypeList,function(t,e){return a("el-option",{key:e,attrs:{label:t,value:t}})}),1)],1),t._v(" "),a("div",[t._v("\n      仓库名称\n      "),a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.stockName,callback:function(e){t.stockName=e},expression:"stockName"}},t._l(t.stockNameList,function(t,e){return a("el-option",{key:e,attrs:{label:t,value:t}})}),1)],1),t._v(" "),a("div",{staticStyle:{"margin-left":"1.2vw"}},[t._v("\n      货柜号\n      "),t._v(" "),a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.containerNo,callback:function(e){t.containerNo=e},expression:"containerNo"}},t._l(t.containerList,function(t,e){return a("el-option",{key:e,attrs:{label:t,value:t}})}),1)],1),t._v(" "),a("div",[a("el-button",{staticStyle:{"margin-left":"3vw",width:"10vw"},attrs:{type:"primary"},on:{click:function(e){return t.searchCotainer()}}},[t._v("搜 索")])],1),t._v(" "),a("div",[a("el-button",{staticStyle:{"margin-left":"3vw",width:"10vw"},attrs:{type:"warning"},on:{click:function(e){return t.goCotainerSearchSku()}}},[t._v("按 sku 检 索")])],1)]),t._v(" "),a("div",{staticStyle:{flex:"7"}},[a("table",{staticStyle:{"margin-left":"1.3vw"}},[t._m(0),t._v(" "),a("tbody",t._l(t.tableData,function(e,n){return a("tr",{key:n},[a("td",[t._v(t._s(n+1+50*(t.page-1)))]),t._v(" "),a("td",[t._v(t._s(e.container_num))]),t._v(" "),a("td",[t._v(t._s(e.platform))]),t._v(" "),a("td",[t._v(t._s(e.site))]),t._v(" "),a("td",[t._v(t._s(e.country))]),t._v(" "),a("td",[t._v(t._s(e.warehouse_type))]),t._v(" "),a("td",[t._v(t._s(e.warehouse_name))]),t._v(" "),a("td",[t._v(t._s(e.goodsType))]),t._v(" "),a("td",[t._v(t._s(e.arriveDate))]),t._v(" "),a("td",[t._v(t._s(e.deliveryDate))]),t._v(" "),a("td",[t._v(t._s(e.warehousingDate))]),t._v(" "),a("td",[t._v(t._s(e.issueCount))]),t._v(" "),a("td",[t._v(t._s(e.receiveCount))]),t._v(" "),a("td",[t._v(t._s(e.shippingDate))]),t._v(" "),a("td",[t._v(t._s(e.state))])])}),0)]),t._v(" "),a("el-pagination",{staticClass:"pagetotle",staticStyle:{margin:"1vh 0 0 24vw"},attrs:{background:"","current-page":t.page,layout:"prev, pager, next, jumper",total:t.total,"page-size":50},on:{"current-change":t.handleCurrentChange}})],1)])},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[t._v("序号")]),t._v(" "),a("th",[t._v("货柜号")]),t._v(" "),a("th",[t._v("渠道")]),t._v(" "),a("th",[t._v("站点")]),t._v(" "),a("th",[t._v("国家")]),t._v(" "),a("th",[t._v("仓库类型")]),t._v(" "),a("th",[t._v("仓库名称")]),t._v(" "),a("th",[t._v("货物类型")]),t._v(" "),a("th",[t._v("预计到港日期")]),t._v(" "),a("th",[t._v("预计送货日期")]),t._v(" "),a("th",[t._v("实际入仓日期")]),t._v(" "),a("th",[t._v("发出件数")]),t._v(" "),a("th",[t._v("接收件数")]),t._v(" "),a("th",[t._v("装柜日")]),t._v(" "),a("th",[t._v("状态")])])])}]};var c=a("VU/8")(r,l,!1,function(t){a("otfo")},"data-v-54e87e1e",null);e.default=c.exports},otfo:function(t,e){}});
//# sourceMappingURL=86.fb59976e7c28b073851f.js.map