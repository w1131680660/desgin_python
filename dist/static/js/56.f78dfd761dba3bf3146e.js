webpackJsonp([56],{"38M/":function(e,t){},lLdG:function(e,t){},so2K:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=a("bOdI"),s=a.n(o),l={data:function(){return{fileList:[],file:"",dialogVisible:!1,dialogVisible1:!1,tableData:[],warehouse_form:{},rules:{sku:[{required:!0,message:"请输入sku",trigger:"blur"}],lengths:[{required:!0,message:"请输入长度",trigger:"blur"},{message:"请输入数字",trigger:"blur",pattern:/(^\d+$)|(^\d+\.\d+$)/}],widths:[{required:!0,message:"请输入宽",trigger:"blur"},{message:"请输入数字",trigger:"blur",pattern:/(^\d+$)|(^\d+\.\d+$)/}],heights:[{required:!0,message:"请输入高",trigger:"blur"},{message:"请输入数字",trigger:"blur",pattern:/(^\d+$)|(^\d+\.\d+$)/}],weights:[{required:!0,message:"请输入重量",trigger:"blur"},{message:"请输入数字",trigger:"blur",pattern:/(^\d+$)|(^\d+\.\d+$)/}]},warehouse_form_add:{},rowData:{}}},methods:(r={uploadSubmit:function(){var e=this;if(console.log("确认提交"),""!==this.file){var t=new FormData;t.append("files",this.file);var a=this._url2+"server/order_management/ca_warehouse_data_template_upload/";this.$axios.post(a,t).then(function(t){e.fileList=[],e.file="",alert(t.data.msg)})}else alert("请上传文件")},isExecl:function(e){return/(.xlsx|.xls)$/.test(e)},beforeUpload:function(e){this.fileList=[],console.log("之前",e),console.log(!this.isExecl(e.name)),!e||e&&!this.isExecl(e.name)?alert("上传后缀为.xlsx,.xls类型的表格文件"):this.file=e},uploadFile:function(e){console.log("上传",e)},uploadSuccess:function(e){console.log("上传成功",e)},handleRemove:function(e){console.log("移除",e)},templateDownload:function(){var e=this._url2+"server/order_management/ca_warehouse_data_template_download/";this.$axios.get(e,{responseType:"blob"}).then(function(e){var t=window.URL.createObjectURL(new Blob([e.data])),a=document.createElement("a");a.href=t,a.setAttribute("download","仓库数据_模板.xlsx"),document.body.appendChild(a),a.click()})}},s()(r,"uploadFile",function(){}),s()(r,"addNew",function(){this.dialogVisible1=!0}),s()(r,"getTableData",function(){var e=this,t=this._url2+"server/order_management/ca_warehouse_data/";this.$axios.get(t).then(function(t){e.tableData=t.data.data})}),s()(r,"editData",function(e){for(var t in this.rowData=e,this.dialogVisible=!0,e)this.$set(this.warehouse_form,t,e[t])}),s()(r,"submitData",function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;t.dialogVisible=!1;var a=new FormData;for(var r in t.rowData)t.$set(t.rowData,r,t.warehouse_form[r]),a.append(r,t.warehouse_form[r]);console.log(a);var o=t._url2+"server/order_management/ca_update_warehouse_data/";t.$axios.post(o,a).then(function(e){200===e.data.code?alert("修改成功"):alert("修改失败,请联系IT处理!")})})}),s()(r,"submitData1",function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;t.dialogVisible1=!1;var a=new FormData;for(var r in t.warehouse_form_add)a.append(r,t.warehouse_form_add[r]);var o=t._url2+"server/order_management/ca_insert_warehouse_data/";t.$axios.post(o,a).then(function(e){200===e.data.code?(alert("新增成功"),t.getTableData()):alert("新增失败,请联系IT处理!")})})}),r),created:function(){this.getTableData()}},i={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"Warehouse_data"}},[a("div",{staticClass:"topOpt"},[a("el-button",{attrs:{type:"primary"},on:{click:e.addNew}},[e._v("新增")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.templateDownload}},[e._v("模板下载")]),e._v(" "),a("el-upload",{ref:"upload",staticClass:"upload-demo",attrs:{action:"123","before-upload":e.beforeUpload,"http-request":e.uploadFile,"file-list":e.fileList,"on-success":e.uploadSuccess,"on-remove":e.handleRemove}},[a("el-button",{attrs:{type:"primary"}},[e._v("选择文件")])],1),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.uploadSubmit}},[e._v("确认上传")])],1),e._v(" "),a("div",{staticClass:"table_data"},[a("el-table",{staticStyle:{width:"100%"},attrs:{"max-height":"720",border:"",data:e.tableData}},[a("el-table-column",{attrs:{prop:"product_id",align:"center",label:"产品编码"}}),e._v(" "),a("el-table-column",{attrs:{prop:"sku",align:"center",label:"sku"}}),e._v(" "),a("el-table-column",{attrs:{prop:"lengths",align:"center",label:"长度"}}),e._v(" "),a("el-table-column",{attrs:{prop:"widths",align:"center",label:"宽"}}),e._v(" "),a("el-table-column",{attrs:{prop:"heights",align:"center",label:"高"}}),e._v(" "),a("el-table-column",{attrs:{prop:"weights",align:"center",label:"重量"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return e.editData(t.row)}}},[e._v("编辑")])]}}])})],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"仓库数据编辑",visible:e.dialogVisible,width:"40%"},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("el-form",{ref:"warehouse_form",attrs:{rules:e.rules,"label-width":"100px",inline:!0,model:e.warehouse_form}},[a("el-form-item",{attrs:{label:"sku",prop:"sku"}},[a("el-input",{model:{value:e.warehouse_form.sku,callback:function(t){e.$set(e.warehouse_form,"sku",t)},expression:"warehouse_form.sku"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"长度",prop:"lengths"}},[a("el-input",{model:{value:e.warehouse_form.lengths,callback:function(t){e.$set(e.warehouse_form,"lengths",t)},expression:"warehouse_form.lengths"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"宽",prop:"widths"}},[a("el-input",{model:{value:e.warehouse_form.widths,callback:function(t){e.$set(e.warehouse_form,"widths",t)},expression:"warehouse_form.widths"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"高",prop:"heights"}},[a("el-input",{model:{value:e.warehouse_form.heights,callback:function(t){e.$set(e.warehouse_form,"heights",t)},expression:"warehouse_form.heights"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"重量",prop:"weights"}},[a("el-input",{model:{value:e.warehouse_form.weights,callback:function(t){e.$set(e.warehouse_form,"weights",t)},expression:"warehouse_form.weights"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"产品编码",prop:"product_id"}},[a("el-input",{model:{value:e.warehouse_form.product_id,callback:function(t){e.$set(e.warehouse_form,"product_id",t)},expression:"warehouse_form.product_id"}})],1),e._v(" "),a("el-form-item",[a("el-button",{staticClass:"submitBtn",attrs:{type:"primary"},on:{click:function(t){return e.submitData("warehouse_form")}}},[e._v("提交")])],1)],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"新增仓库数据",visible:e.dialogVisible1,width:"40%"},on:{"update:visible":function(t){e.dialogVisible1=t}}},[a("el-form",{ref:"add_warehouseform",attrs:{rules:e.rules,"label-width":"100px",inline:!0,model:e.warehouse_form_add}},[a("el-form-item",{attrs:{label:"sku",prop:"sku"}},[a("el-input",{model:{value:e.warehouse_form_add.sku,callback:function(t){e.$set(e.warehouse_form_add,"sku",t)},expression:"warehouse_form_add.sku"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"长度",prop:"lengths"}},[a("el-input",{model:{value:e.warehouse_form_add.lengths,callback:function(t){e.$set(e.warehouse_form_add,"lengths",t)},expression:"warehouse_form_add.lengths"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"宽",prop:"widths"}},[a("el-input",{model:{value:e.warehouse_form_add.widths,callback:function(t){e.$set(e.warehouse_form_add,"widths",t)},expression:"warehouse_form_add.widths"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"高",prop:"heights"}},[a("el-input",{model:{value:e.warehouse_form_add.heights,callback:function(t){e.$set(e.warehouse_form_add,"heights",t)},expression:"warehouse_form_add.heights"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"重量",prop:"weights"}},[a("el-input",{model:{value:e.warehouse_form_add.weights,callback:function(t){e.$set(e.warehouse_form_add,"weights",t)},expression:"warehouse_form_add.weights"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"产品编码",prop:"product_id"}},[a("el-input",{model:{value:e.warehouse_form_add.product_id,callback:function(t){e.$set(e.warehouse_form_add,"product_id",t)},expression:"warehouse_form_add.product_id"}})],1),e._v(" "),a("el-form-item",{staticClass:"last_formItem"},[a("el-button",{staticClass:"addSubmit",attrs:{type:"primary"},on:{click:function(t){return e.submitData1("add_warehouseform")}}},[e._v("提交")])],1)],1)],1)],1)},staticRenderFns:[]};var n=a("VU/8")(l,i,!1,function(e){a("38M/"),a("lLdG")},"data-v-092ab698",null);t.default=n.exports}});
//# sourceMappingURL=56.f78dfd761dba3bf3146e.js.map