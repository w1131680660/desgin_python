webpackJsonp([35],{"LF+S":function(e,t){},Q9Fn:function(e,t){},U1I6:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={name:"",props:{},components:{orderNav:a("uuOi").a},data:function(){return{dptInfo:{dptToday:"",dptWeek:"",dptWeekOver:""},checkedTime:"",timeList:["今天","本周","本月"],personData:[],personVisible:!1,personPage:1,personTotal:0,personDetail:[],person:"",overOrderList:[],overPage:1,overTotal:0}},computed:{},watch:{},methods:{initData:function(){var e=this;this.$api.initData(this.overPage).then(function(t){console.log(t),200==t.data.code?(e.overTotal=t.data.all_num,e.overOrderList=t.data.out_time_list,e.personData=t.data.person_list,e.dptInfo.dptToday=t.data.department_list[0],e.dptInfo.dptWeek=t.data.department_list[1],e.dptInfo.dptWeekOver=t.data.department_list[2]):e.$message.error(t.data.msg)})},overPageChange:function(e){this.overPage=e,this.initData()},queryPerson:function(){var e=this;this.$api.queryPerson(this.checkedTime).then(function(t){console.log(t),200!=t.data.code&&e.$message.error(t.data.msg),e.personData=t.data.person_list})},getPersonDetail:function(e){var t=this;this.$api.getPersonDetail(e,this.personPage).then(function(e){console.log(e),t.personDetail=e.data.data,t.personTotal=e.data.all_num,t.personVisible=!0})},showPersonDetail:function(e){this.person=e,this.getPersonDetail(e)},personPageChange:function(e){this.personPage=e,this.getPersonDetail(this.person)}},created:function(){this.initData()},mounted:function(){}},o={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"order-manage"}},[a("order-nav"),e._v(" "),a("h3",{staticClass:"title"},[e._v("工单管理")]),e._v(" "),a("div",{staticClass:"main"},[a("div",{staticClass:"left"},[a("p",[e._v("部门工单统计")]),e._v(" "),a("div",{staticClass:"dpt-data"},[a("div",{staticClass:"dpt"},[a("span",[e._v("今日部门工单数量")]),e._v(" "),a("el-input",{attrs:{value:e.dptInfo.dptToday,readonly:""}})],1),e._v(" "),a("div",{staticClass:"dpt"},[a("span",[e._v("本周部门工单数量")]),e._v(" "),a("el-input",{attrs:{value:e.dptInfo.dptWeek,readonly:""}})],1),e._v(" "),a("div",{staticClass:"dpt"},[a("span",[e._v("本周部门逾期工单数量")]),e._v(" "),a("el-input",{attrs:{value:e.dptInfo.dptWeekOver,readonly:""}})],1)]),e._v(" "),a("p",[e._v("员工工单统计")]),e._v(" "),a("div",{staticClass:"person-data"},[a("div",[a("span",[e._v("时间：")]),e._v(" "),a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.checkedTime,callback:function(t){e.checkedTime=t},expression:"checkedTime"}},e._l(e.timeList,function(e,t){return a("el-option",{key:t,attrs:{label:e,value:e}})}),1)],1),e._v(" "),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.queryPerson}},[e._v("查询")])],1),e._v(" "),a("div",{staticClass:"person-table"},[a("el-table",{staticStyle:{width:"50%",margin:"0 auto"},attrs:{data:e.personData,border:"","max-height":"300",size:"small"}},[a("el-table-column",{attrs:{prop:"0",label:"人员"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[a("el-link",{on:{click:function(t){return e.showPersonDetail(n[0])}}},[e._v(e._s(n[0]))])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"1",label:"即时"}}),e._v(" "),a("el-table-column",{attrs:{prop:"2",label:"远期"}})],1)],1)]),e._v(" "),a("div",{staticClass:"right"},[a("p",[e._v("逾期工单统计")]),e._v(" "),a("el-table",{staticStyle:{width:"90%",margin:"0 auto"},attrs:{data:e.overOrderList,border:"","max-height":"400",size:"small"}},[a("el-table-column",{attrs:{prop:"initiate_department",label:"发单部门"}}),e._v(" "),a("el-table-column",{attrs:{prop:"initiate_person",label:"发单人"}}),e._v(" "),a("el-table-column",{attrs:{prop:"receive_person",label:"接单人"}}),e._v(" "),a("el-table-column",{attrs:{prop:"job_type",label:"工单类型"}}),e._v(" "),a("el-table-column",{attrs:{prop:"initiate_time",label:"发单时间"}}),e._v(" "),a("el-table-column",{attrs:{prop:"out_time",label:"结单时间"}}),e._v(" "),a("el-table-column",{attrs:{prop:"need",label:"内容"}}),e._v(" "),a("el-table-column",{attrs:{prop:"next_info",label:"跟进信息"}})],1),e._v(" "),a("el-pagination",{attrs:{background:"","current-page":e.overPage,"page-size":50,layout:"total,prev, pager, next",total:e.overTotal},on:{"current-change":e.overPageChange,"update:currentPage":function(t){e.overPage=t},"update:current-page":function(t){e.overPage=t}}})],1)]),e._v(" "),a("el-dialog",{attrs:{title:e.person+" 员工详情",visible:e.personVisible,width:"80%",center:"","close-on-click-modal":!1,"close-on-press-escape":!1},on:{"update:visible":function(t){e.personVisible=t}}},[a("el-table",{staticStyle:{width:"90%",margin:"0 auto"},attrs:{data:e.personDetail,border:"","max-height":"400"}},[a("el-table-column",{attrs:{prop:"initiate_department",label:"发单部门"}}),e._v(" "),a("el-table-column",{attrs:{prop:"initiate_person",label:"发单人"}}),e._v(" "),a("el-table-column",{attrs:{prop:"receive_person",label:"接单人"}}),e._v(" "),a("el-table-column",{attrs:{prop:"job_type",label:"工单类型"}}),e._v(" "),a("el-table-column",{attrs:{prop:"initiate_time",label:"发单时间"}}),e._v(" "),a("el-table-column",{attrs:{prop:"out_time",label:"结单时间"}}),e._v(" "),a("el-table-column",{attrs:{prop:"need",label:"内容"}}),e._v(" "),a("el-table-column",{attrs:{prop:"next_info",label:"跟进信息"}}),e._v(" "),a("el-table-column",{attrs:{prop:"status",label:"状态"}})],1),e._v(" "),a("el-pagination",{attrs:{background:"","current-page":e.personPage,"page-size":50,layout:"total,prev, pager, next",total:e.personTotal},on:{"current-change":e.personPageChange,"update:currentPage":function(t){e.personPage=t},"update:current-page":function(t){e.personPage=t}}}),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.personVisible=!1}}},[e._v("关 闭")])],1)],1)],1)},staticRenderFns:[]};var l=a("VU/8")(n,o,!1,function(e){a("Q9Fn"),a("LF+S")},"data-v-5dfac319",null);t.default=l.exports}});
//# sourceMappingURL=35.815b205a7ce87327146e.js.map