{"version":3,"sources":["webpack:///src/components/clientManagement/FavorableRate.vue","webpack:///./src/components/clientManagement/FavorableRate.vue?b1bd","webpack:///./src/components/clientManagement/FavorableRate.vue"],"names":["FavorableRate","data","tableData","leftNavData","firstNav","twiceNav","threeNav","total","page","xAxis","type","axisPointer","series","name","yAxisIndex","methods","getDefaultData","_this","this","axios_default","url","_url2","method","params","then","res","console","log","nice_comment_data","getChart","site","platform","country","upload_people","_this2","serach","i","length","date","count_praise","count_all","toFixed","getEchartData","getDateTable","_this3","begin","document","querySelector","value","end","begin_date","over_date","$nextTick","$","scrollTop","NavClick","index","index2","item3","_this4","chart","$refs","_myChart","$echarts","init","option","tooltip","trigger","crossStyle","color","toolbox","feature","dataView","show","readOnly","magicType","restore","saveAsImage","legend","yAxis","min","max","interval","axisLabel","formatter","setOption","window","addEventListener","resize","$on","removeEventListener","myChart","handleCurrentChange","newPage","_this5","language","mounted","handleScroll","created","_this6","clientManagement_FavorableRate","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","unique-opened","_l","item","key","slot","_v","_s","item2","index3","on","click","$event","staticStyle","margin-left","padding-top","height","overflow","margin","change","_m","cursor","background","current-page","layout","current-change","ref","width","padding-right","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/98.4be5d5ffb208ae0c209f.js","sourcesContent":["<template>\r\n  <div>\r\n    <el-menu class=\"leftNav\" unique-opened>\r\n      <el-submenu\r\n        :index=\"index + ''\"\r\n        v-for=\"(item, index) in leftNavData\"\r\n        :key=\"index\"\r\n      >\r\n        <template slot=\"title\">{{ index }}</template>\r\n        <el-submenu\r\n          :index=\"index2 + ''\"\r\n          v-for=\"(item2, index2) in item\"\r\n          :key=\"index2\"\r\n        >\r\n          <template slot=\"title\">{{ index2 }}</template>\r\n          <el-menu-item\r\n            :index=\"index2 + item3\"\r\n            v-for=\"(item3, index3) in item2\"\r\n            :key=\"index3\"\r\n            @click=\"NavClick(index, index2, item3)\"\r\n            >{{ item3 }}</el-menu-item\r\n          >\r\n        </el-submenu>\r\n      </el-submenu>\r\n    </el-menu>\r\n\r\n    <div\r\n      style=\"margin-left: 13vw; padding-top: 2vh; height: 85vh; overflow: auto\"\r\n    >\r\n      <h2 style=\"color: white\">\r\n        店铺：{{ firstNav }}-{{ twiceNav }}-{{ threeNav }}\r\n      </h2>\r\n      <h4 style=\"margin: 2vh 0 1vh 0; color: white\">好评率(站外)</h4>\r\n      <div style=\"color: white\">\r\n        起始时间：<input\r\n          type=\"date\"\r\n          class=\"beginDate\"\r\n          style=\"color: black\"\r\n          @change=\"getDateTable()\"\r\n        />\r\n        结束时间：<input\r\n          type=\"date\"\r\n          class=\"endDate\"\r\n          style=\"color: black\"\r\n          @change=\"getDateTable()\"\r\n        />\r\n      </div>\r\n      <table class=\"favorableRate\">\r\n        <thead>\r\n          <tr>\r\n            <th>序号</th>\r\n            <th>站点</th>\r\n            <th>平台</th>\r\n            <th>国家</th>\r\n            <th>邮件总数量</th>\r\n            <th>好评数</th>\r\n            <th>好评率</th>\r\n            <th>运营人员</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          <tr\r\n            v-for=\"(item, index) in tableData\"\r\n            :key=\"index\"\r\n            @click=\"\r\n              getChart(\r\n                item.site,\r\n                item.platform,\r\n                item.country,\r\n                item.upload_people\r\n              )\r\n            \"\r\n            style=\"cursor: pointer\"\r\n          >\r\n            <td>{{ index + 1 + (page - 1) * 50 }}</td>\r\n            <td>{{ item.site }}</td>\r\n            <td>{{ item.platform }}</td>\r\n            <td>{{ item.country }}</td>\r\n            <td>{{ item.count_all }}</td>\r\n            <td>{{ item.count_praise }}</td>\r\n            <td>{{ (item.count_praise / item.count_all).toFixed(2) }}</td>\r\n            <td>{{ item.upload_people }}</td>\r\n          </tr>\r\n        </tbody>\r\n      </table>\r\n      <el-pagination\r\n        background\r\n        @current-change=\"handleCurrentChange\"\r\n        :current-page=\"page\"\r\n        layout=\"prev, pager, next, jumper\"\r\n        :total=\"total\"\r\n        class=\"pagetotle\"\r\n        style=\"margin: 1vh 0 0 35vw\"\r\n      >\r\n      </el-pagination>\r\n      <div\r\n        ref=\"chart\"\r\n        style=\"\r\n          width: 60vw;\r\n          height: 376px;\r\n          padding-right: 5vw;\r\n          margin: 3vh 0 0 14vw;\r\n          background: rgba(255, 255, 255, 0.9);\r\n        \"\r\n      ></div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from \"axios\";\r\nexport default {\r\n  data() {\r\n    return {\r\n      tableData: [], //表格数据\r\n      leftNavData: [], //左边导航栏\r\n      firstNav: \"全部\", //一级导航\r\n      twiceNav: \"\", //二级导航\r\n      threeNav: \"\", //三级导航\r\n      total: 0, //页码当前页\r\n      page: 1, //\r\n      xAxis: [\r\n        //控制月数\r\n        {\r\n          type: \"category\",\r\n          data: [],\r\n          axisPointer: {\r\n            type: \"shadow\"\r\n          }\r\n        }\r\n      ],\r\n      series: [\r\n        //控制数据\r\n        {\r\n          name: \"好评数\",\r\n          type: \"bar\",\r\n          data: []\r\n        },\r\n        {\r\n          name: \"总条数\",\r\n          type: \"bar\",\r\n          data: []\r\n        },\r\n        {\r\n          name: \"比率\",\r\n          type: \"line\",\r\n          yAxisIndex: 1,\r\n          data: []\r\n        }\r\n      ]\r\n    };\r\n  },\r\n  methods: {\r\n    getDefaultData() {\r\n      //获取默认数据\r\n      axios({\r\n        url: this._url2 + \"server/customer_management/nice_comment\",\r\n        method: \"get\",\r\n        params: {\r\n          page: 1\r\n        }\r\n      }).then(res => {\r\n        console.log(res);\r\n        // this.leftNavData = res.data.Left_data;\r\n        this.tableData = res.data.nice_comment_data;\r\n\r\n        //  this.total = res.data.data_count.count / 5\r\n      });\r\n    },\r\n    getChart(site, platform, country, upload_people) {\r\n      //点击表格某条数据改变图表\r\n      console.log(site, platform, country, upload_people);\r\n      axios({\r\n        url: this._url2 + \"server/customer_management/nice_comment\",\r\n        method: \"get\",\r\n        params: {\r\n          site: site,\r\n          platform: platform,\r\n          country: country,\r\n          upload_people: upload_people,\r\n          serach: \"1\"\r\n        }\r\n      }).then(res => {\r\n        console.log(res.data.nice_comment_data);\r\n        this.xAxis[0].data = [];\r\n        this.series[0].data = [];\r\n        this.series[1].data = [];\r\n        this.series[2].data = [];\r\n        for (let i = 0; i < res.data.nice_comment_data.length; i++) {\r\n          if (res.data.nice_comment_data[i].date) {\r\n            this.xAxis[0].data[i] = res.data.nice_comment_data[i].date;\r\n            this.series[0].data[i] = res.data.nice_comment_data[i].count_praise;\r\n            this.series[1].data[i] = res.data.nice_comment_data[i].count_all;\r\n            this.series[2].data[i] = (\r\n              res.data.nice_comment_data[i].count_praise /\r\n              res.data.nice_comment_data[i].count_all\r\n            ).toFixed(2);\r\n          } else {\r\n          }\r\n        }\r\n        this.getEchartData();\r\n      });\r\n    },\r\n    getDateTable() {\r\n      //时间选择更改表格\r\n      if (this.firstNav == \"全部\") {\r\n        this.firstNav = null;\r\n      }\r\n      let begin = document.querySelector(\".beginDate\").value;\r\n      let end = document.querySelector(\".endDate\").value;\r\n      console.log(begin, end, 888);\r\n      console.log(this.threeNav, this.twiceNav, this.firstNav, 1);\r\n      axios({\r\n        url: this._url2 + \"server/customer_management/nice_comment\",\r\n        method: \"get\",\r\n        params: {\r\n          platform: this.firstNav,\r\n          country: this.twiceNav,\r\n          site: this.threeNav,\r\n          page: 1,\r\n          begin_date: begin,\r\n          over_date: end\r\n        }\r\n      }).then(res => {\r\n        console.log(res);\r\n        this.tableData = res.data.nice_comment_data;\r\n        this.$nextTick(() => {\r\n          $(\".favorableRate>tbody\").scrollTop(0);\r\n        });\r\n        // this.total = res.data.data_count.count / 5\r\n        this.page = 1;\r\n      });\r\n      if (this.firstNav == null) {\r\n        this.firstNav = \"全部\";\r\n      }\r\n    },\r\n    NavClick(index, index2, item3) {\r\n      //点击左边导航栏事件\r\n      this.firstNav = index;\r\n      this.twiceNav = index2;\r\n      this.threeNav = item3;\r\n      document.querySelector(\".beginDate\").value = \"\";\r\n      document.querySelector(\".endDate\").value = \"\";\r\n      axios({\r\n        url: this._url2 + \"server/customer_management/nice_comment\",\r\n        method: \"get\",\r\n        params: {\r\n          platform: this.firstNav,\r\n          country: this.twiceNav,\r\n          site: this.threeNav,\r\n          page: 1\r\n        }\r\n      }).then(res => {\r\n        console.log(res);\r\n        this.tableData = res.data.nice_comment_data;\r\n        this.$nextTick(() => {\r\n          $(\".favorableRate>tbody\").scrollTop(0);\r\n        });\r\n        // this.total = res.data.data_count.count / 5\r\n        this.page = 1;\r\n      });\r\n    },\r\n    getEchartData() {\r\n      // 获取div\r\n      // 获取div\r\n      const chart = this.$refs.chart;\r\n      if (chart) {\r\n        //初始化实例\r\n        const myChart = this.$echarts.init(chart);\r\n        const option = {\r\n          tooltip: {\r\n            trigger: \"axis\",\r\n            axisPointer: {\r\n              type: \"cross\",\r\n              crossStyle: {\r\n                color: \"#999\"\r\n              }\r\n            }\r\n          },\r\n          toolbox: {\r\n            feature: {\r\n              dataView: { show: true, readOnly: false },\r\n              magicType: { show: true, type: [\"line\", \"bar\"] },\r\n              restore: { show: true },\r\n              saveAsImage: { show: true }\r\n            }\r\n          },\r\n          legend: {\r\n            data: [\"好评数\", \"总条数\", \"比率\"]\r\n          },\r\n          xAxis: this.xAxis,\r\n          yAxis: [\r\n            {\r\n              type: \"value\",\r\n              name: \"数量\",\r\n              min: 0,\r\n              max: 100,\r\n              interval: 10,\r\n              axisLabel: {\r\n                formatter: \"{value} \"\r\n              }\r\n            },\r\n            {\r\n              type: \"value\",\r\n              name: \"比率\",\r\n              min: 0,\r\n              max: 1,\r\n              interval: 0.1,\r\n              axisLabel: {\r\n                formatter: \"{value} \"\r\n              }\r\n            }\r\n          ],\r\n          series: this.series\r\n        };\r\n        myChart.setOption(option);\r\n        window.addEventListener(\"resize\", function() {\r\n          myChart.resize();\r\n        });\r\n      }\r\n      this.$on(\"hook:destoryed\", () => {\r\n        window.removeEventListener(\"resize\", function() {\r\n          myChart.resize();\r\n        });\r\n      });\r\n    },\r\n    handleCurrentChange(newPage) {\r\n      // 页码切换会触发此函数\r\n      this.page = newPage;\r\n      let begin = document.querySelector(\".beginDate\").value;\r\n      let end = document.querySelector(\".endDate\").value;\r\n      axios({\r\n        url: this._url2 + \"server/customer_management/nice_comment\",\r\n        method: \"get\",\r\n        params: {\r\n          platform: this.firstNav,\r\n          country: this.twiceNav,\r\n          language: this.threeNav,\r\n          page: this.page,\r\n          begin_date: begin,\r\n          over_date: end\r\n        }\r\n      }).then(res => {\r\n        console.log(res);\r\n        this.tableData = res.data.nice_comment_data;\r\n\r\n        this.$nextTick(() => {\r\n          $(\".favorableRate>tbody\").scrollTop(0);\r\n        });\r\n        //  this.total = res.data.data_count.count / 5\r\n      });\r\n    }\r\n  },\r\n  mounted() {\r\n    window.addEventListener(\"scroll\", this.handleScroll);\r\n    this.getEchartData();\r\n  },\r\n  created() {\r\n    this.getDefaultData();\r\n    axios({\r\n      //左侧导航栏（权限用）\r\n      url: this._url2 + \"server/personnel_management/area_sign2/\",\r\n      method: \"get\"\r\n    }).then(res => {\r\n      console.log(res, 5);\r\n      this.leftNavData = res.data.data;\r\n    });\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\ntable {\r\n  /*width: 84vw;*/\r\n  /* margin: 10px 50px; */\r\n  border-collapse: collapse;\r\n  margin: 2vh 0 0 0vw;\r\n}\r\n\r\ntbody {\r\n  display: block;\r\n  max-height: 61vh;\r\n  width: fit-content;\r\n  overflow-y: auto;\r\n  border-bottom: 1px #e5e5e5 solid;\r\n}\r\n\r\nthead,\r\ntbody tr {\r\n  display: table;\r\n  width: fit-content;\r\n  table-layout: fixed;\r\n}\r\n\r\n/*th和td的宽度使用vw或者px*/\r\nthead th,\r\ntbody tr td {\r\n  border: 1px solid #e5e5e5;\r\n  border-top: none;\r\n  text-align: center;\r\n  width: 8vw;\r\n}\r\n\r\ntable thead tr {\r\n  border-top: 1px solid #e5e5e5;\r\n  background-color: #f7f5f5;\r\n}\r\n\r\ntable > tbody > tr:hover {\r\n  background: #eaf7e0;\r\n}\r\n\r\ntable > thead > tr > th {\r\n  font-size: 0.9rem;\r\n  color: #000;\r\n  font-weight: 600;\r\n  height: 2.5vh;\r\n  line-height: 2.5vh;\r\n}\r\n\r\ntable > tbody > tr > td {\r\n  font-size: 0.7rem;\r\n  color: #000;\r\n  height: 2.5vh;\r\n  line-height: 2.5vh;\r\n}\r\n\r\n/* 设置滚动条的大小 */\r\n::-webkit-scrollbar {\r\n  width: 9px;\r\n  height: 5px !important;\r\n}\r\n\r\n.leftNav {\r\n  width: 12vw;\r\n  height: 100vh;\r\n  position: fixed;\r\n  left: 0;\r\n}\r\n\r\ntable tr th,\r\ntable tr td {\r\n  width: 10.75vw;\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/clientManagement/FavorableRate.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-menu',{staticClass:\"leftNav\",attrs:{\"unique-opened\":\"\"}},_vm._l((_vm.leftNavData),function(item,index){return _c('el-submenu',{key:index,attrs:{\"index\":index + ''}},[_c('template',{slot:\"title\"},[_vm._v(_vm._s(index))]),_vm._v(\" \"),_vm._l((item),function(item2,index2){return _c('el-submenu',{key:index2,attrs:{\"index\":index2 + ''}},[_c('template',{slot:\"title\"},[_vm._v(_vm._s(index2))]),_vm._v(\" \"),_vm._l((item2),function(item3,index3){return _c('el-menu-item',{key:index3,attrs:{\"index\":index2 + item3},on:{\"click\":function($event){return _vm.NavClick(index, index2, item3)}}},[_vm._v(_vm._s(item3))])})],2)})],2)}),1),_vm._v(\" \"),_c('div',{staticStyle:{\"margin-left\":\"13vw\",\"padding-top\":\"2vh\",\"height\":\"85vh\",\"overflow\":\"auto\"}},[_c('h2',{staticStyle:{\"color\":\"white\"}},[_vm._v(\"\\n      店铺：\"+_vm._s(_vm.firstNav)+\"-\"+_vm._s(_vm.twiceNav)+\"-\"+_vm._s(_vm.threeNav)+\"\\n    \")]),_vm._v(\" \"),_c('h4',{staticStyle:{\"margin\":\"2vh 0 1vh 0\",\"color\":\"white\"}},[_vm._v(\"好评率(站外)\")]),_vm._v(\" \"),_c('div',{staticStyle:{\"color\":\"white\"}},[_vm._v(\"\\n      起始时间：\"),_c('input',{staticClass:\"beginDate\",staticStyle:{\"color\":\"black\"},attrs:{\"type\":\"date\"},on:{\"change\":function($event){return _vm.getDateTable()}}}),_vm._v(\"\\n      结束时间：\"),_c('input',{staticClass:\"endDate\",staticStyle:{\"color\":\"black\"},attrs:{\"type\":\"date\"},on:{\"change\":function($event){return _vm.getDateTable()}}})]),_vm._v(\" \"),_c('table',{staticClass:\"favorableRate\"},[_vm._m(0),_vm._v(\" \"),_c('tbody',_vm._l((_vm.tableData),function(item,index){return _c('tr',{key:index,staticStyle:{\"cursor\":\"pointer\"},on:{\"click\":function($event){return _vm.getChart(\n              item.site,\n              item.platform,\n              item.country,\n              item.upload_people\n            )}}},[_c('td',[_vm._v(_vm._s(index + 1 + (_vm.page - 1) * 50))]),_vm._v(\" \"),_c('td',[_vm._v(_vm._s(item.site))]),_vm._v(\" \"),_c('td',[_vm._v(_vm._s(item.platform))]),_vm._v(\" \"),_c('td',[_vm._v(_vm._s(item.country))]),_vm._v(\" \"),_c('td',[_vm._v(_vm._s(item.count_all))]),_vm._v(\" \"),_c('td',[_vm._v(_vm._s(item.count_praise))]),_vm._v(\" \"),_c('td',[_vm._v(_vm._s((item.count_praise / item.count_all).toFixed(2)))]),_vm._v(\" \"),_c('td',[_vm._v(_vm._s(item.upload_people))])])}),0)]),_vm._v(\" \"),_c('el-pagination',{staticClass:\"pagetotle\",staticStyle:{\"margin\":\"1vh 0 0 35vw\"},attrs:{\"background\":\"\",\"current-page\":_vm.page,\"layout\":\"prev, pager, next, jumper\",\"total\":_vm.total},on:{\"current-change\":_vm.handleCurrentChange}}),_vm._v(\" \"),_c('div',{ref:\"chart\",staticStyle:{\"width\":\"60vw\",\"height\":\"376px\",\"padding-right\":\"5vw\",\"margin\":\"3vh 0 0 14vw\",\"background\":\"rgba(255, 255, 255, 0.9)\"}})],1)],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('thead',[_c('tr',[_c('th',[_vm._v(\"序号\")]),_vm._v(\" \"),_c('th',[_vm._v(\"站点\")]),_vm._v(\" \"),_c('th',[_vm._v(\"平台\")]),_vm._v(\" \"),_c('th',[_vm._v(\"国家\")]),_vm._v(\" \"),_c('th',[_vm._v(\"邮件总数量\")]),_vm._v(\" \"),_c('th',[_vm._v(\"好评数\")]),_vm._v(\" \"),_c('th',[_vm._v(\"好评率\")]),_vm._v(\" \"),_c('th',[_vm._v(\"运营人员\")])])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-1cb87cd9\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/clientManagement/FavorableRate.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-1cb87cd9\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./FavorableRate.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./FavorableRate.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./FavorableRate.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-1cb87cd9\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./FavorableRate.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-1cb87cd9\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/clientManagement/FavorableRate.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}