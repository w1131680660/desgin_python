webpackJsonp([19],{FV7r:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var l=i("bOdI"),o=i.n(l),a={data:function(){var t;return t={flag:!1,DialogVisible:!1,addFormRules:{country:[{required:!0,message:"请输入国家",trigger:"blur"}],company:[{required:!0,message:"请输入站点",trigger:"blur"}],type:[{required:!0,message:"请输入广告组类型",trigger:"blur"}],spu:[{required:!0,message:"请输入spu",trigger:"blur"}],auto:[{required:!0,message:"请输入广告组名称",trigger:"blur"}]},addForm:{auto:"",spu:"",type:"",company:"",country:""},DialogVisible1:!1,editFormRules:{country:[{required:!0,message:"请输入国家",trigger:"blur"}],company:[{required:!0,message:"请输入站点",trigger:"blur"}],type:[{required:!0,message:"请输入广告组类型",trigger:"blur"}],spu:[{required:!0,message:"请输入spu",trigger:"blur"}],auto:[{required:!0,message:"请输入广告组名称",trigger:"blur"}]},editForm:{id:"",auto:"",spu:"",type:"",company:"",country:""},menuPlatFormList:[],showCountryList:[],menuSiteList:[]},o()(t,"showCountryList",""),o()(t,"showSiteList",""),o()(t,"lastSiteList",""),o()(t,"checkedPlatform",""),o()(t,"checkedCountry",""),o()(t,"checkedSite",""),o()(t,"lastSiteList",[]),o()(t,"tableList",[{xx:112},{xx:3334}]),o()(t,"multipleSelection",[]),o()(t,"page",1),o()(t,"total",0),o()(t,"id",""),o()(t,"deleteVisible",!1),t},created:function(){this.getMenuList()},methods:{go_route:function(t){console.log(t),this.$router.push({path:t})},deleteSubmit:function(){var t=this;this.deleteVisible=!1,this.$api2.deleteFormData({id:this.id}).then(function(e){console.log(e),200===e.data.code?(t.$message.success("请求成功"),t.multipleSelection=[],t.getTableData()):t.$message.warning("请求失败")})},select:function(t,e){if(this.multipleSelection=[],t.length>1){var i=t.shift();this.$refs.multipleTable.toggleRowSelection(i,!1)}this.multipleSelection.push(t[0]),console.log("当用户手动勾选数据行",this.multipleSelection)},selectAll:function(t){this.multipleSelection=[],console.log("当用户手动勾选全选 Checkbox 时触发的事件",t),t.length>1?(t.length=1,this.multipleSelection.push(t[0])):this.multipleSelection.push(t[0]),console.log("当用户手动勾选全选",this.multipleSelection)},openedit:function(){if(this.flag)if(0===this.multipleSelection.length||1===this.multipleSelection.length&&void 0===this.multipleSelection[0])this.$message.warning("请选择一个数据进行编辑");else{for(var t in this.DialogVisible1=!0,this.editForm)this.editForm[t]="";var e=this.multipleSelection[0];for(var i in console.log("当前选中的对象",e),this.editForm)this.editForm[i]=e[i]}},addNewdata:function(){if(this.flag){for(var t in this.DialogVisible=!0,this.addForm)this.addForm[t]="";this.addForm.country=this.checkedCountry,this.addForm.company=this.checkedSite}},deleteData:function(){0===this.multipleSelection.length||1===this.multipleSelection.length&&void 0===this.multipleSelection[0]?this.$message.warning("请选择一个数据删除"):(this.id=this.multipleSelection[0].id,console.log(this.id),this.deleteVisible=!0)},addSubmit:function(t){var e=this;this.$refs[t].validate(function(t){if(t){e.DialogVisible=!1;var i=new FormData;for(var l in e.addForm)i.append(l,e.addForm[l]);e.$api2.AddSubmit(i).then(function(t){console.log(t),200===t.data.code?(e.$message.success("请求成功"),e.getTableData()):e.$message.warning("请求不成功")})}})},addReset:function(){for(var t in this.addForm)console.log(t),"country"!==t&&"company"!==t&&(this.addForm[t]="")},editSubmit:function(t){var e=this;this.$refs[t].validate(function(t){if(t){e.DialogVisible1=!1;var i=new FormData;for(var l in e.editForm)i.append(l,e.editForm[l]);e.$api2.editFormData(i).then(function(t){console.log(t),200===t.data.code?(e.$message.success("请求成功"),e.multipleSelection=[],e.getTableData()):e.$message.warning("请求失败")})}})},editReset:function(){for(var t in this.editForm)"country"!==t&&"company"!==t&&"id"!==t&&(this.editForm[t]="")},indexMethod:function(t){return t+1},getMenuList:function(){var t=this;this.$api.getMenuList().then(function(e){t.menuPlatFormList=e.data.data1,t.menuCountryList=e.data.data2,t.menuSiteList=e.data.data3,t.showCountryList=t.menuCountryList[0],t.showSiteList=t.menuSiteList[0],t.lastSiteList=t.showSiteList[0],t.checkedPlatform=t.menuPlatFormList[0],t.checkedCountry=t.showCountryList[0],t.checkedSite=t.lastSiteList[0],t.thirdClick(t.checkedPlatform,t.checkedCountry,t.checkedSite)})},onceClick:function(t){this.showCountryList=[],this.showSiteList=[],this.showCountryList=this.menuCountryList[t],this.showSiteList=this.menuSiteList[t]},secondClick:function(t){this.lastSiteList=[],this.lastSiteList=this.showSiteList[t]},getTableData:function(){var t=this;this.$api2.getTableData({country:this.checkedCountry,company:this.checkedSite}).then(function(e){console.log(e),t.tableList=e.data.re_data||[]})},thirdClick:function(t,e,i){console.log("渠道站点国家",t,e,i),this.checkedCountry=e,this.checkedSite=i,this.flag=!0,this.getTableData()}}},s={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"AdSyncGroupControl"}},[i("div",{staticClass:"leftMenu"},[i("el-menu",{staticClass:"el-menu-vertical-demo",attrs:{"default-active":"0-0-0","unique-opened":""}},t._l(t.menuPlatFormList,function(e,l){return i("el-submenu",{key:l,attrs:{index:l+""}},[i("template",{slot:"title"},[i("span",{staticStyle:{display:"inline-block",width:"100%"},on:{click:function(e){return t.onceClick(l)}}},[t._v(t._s(e))])]),t._v(" "),t._l(t.showCountryList,function(o,a){return i("el-submenu",{key:a,attrs:{index:l+"-"+a}},[i("template",{slot:"title"},[i("span",{staticStyle:{display:"inline-block",width:"100%"},on:{click:function(e){return t.secondClick(a)}}},[t._v(t._s(o))])]),t._v(" "),t._l(t.lastSiteList,function(s,n){return i("el-menu-item",{key:n,attrs:{index:l+"-"+a+"-"+n},on:{click:function(i){return t.thirdClick(e,o,s)}}},[i("span",[t._v(t._s(s))])])})],2)})],2)}),1)],1),t._v(" "),i("div",{staticClass:"right_box"},[i("div",{staticClass:"topOpt"},[i("el-button",{staticClass:"Btn",attrs:{type:"primary",size:"small"},on:{click:t.addNewdata}},[t._v("新增")]),t._v(" "),i("el-button",{staticClass:"Btn",attrs:{size:"small",type:"primary"},on:{click:t.openedit}},[t._v("编辑")]),t._v(" "),i("el-button",{staticClass:"Btn",attrs:{type:"danger",size:"small"},on:{click:t.deleteData}},[t._v("删除")]),t._v(" "),i("el-button",{staticClass:"Btn",attrs:{type:"primary",size:"small"},on:{click:function(e){return t.go_route("/AutoManualGroup")}}},[t._v("广告同步组对照")])],1),t._v(" "),i("el-table",{ref:"multipleTable",staticStyle:{width:"955"},attrs:{"max-height":"800",border:"",data:t.tableList},on:{"select-all":t.selectAll,select:t.select}},[i("el-table-column",{attrs:{type:"selection",width:"55"}}),t._v(" "),i("el-table-column",{attrs:{type:"index",label:"序号",index:t.indexMethod,width:"55",align:"center"}}),t._v(" "),i("el-table-column",{attrs:{label:"广告组名称",prop:"auto",width:"200"}}),t._v(" "),i("el-table-column",{attrs:{prop:"country",width:"80",label:"国家"}}),t._v(" "),i("el-table-column",{attrs:{prop:"company",width:"80",label:"站点"}}),t._v(" "),i("el-table-column",{attrs:{prop:"type",width:"80",label:"广告组类型"}}),t._v(" "),i("el-table-column",{attrs:{prop:"spu",width:"400",label:"spu名称","show-overflow-tooltip":""}})],1),t._v(" "),i("el-dialog",{attrs:{title:"新增",visible:t.DialogVisible,"close-on-click-modal":!1,width:"55%",center:""},on:{"update:visible":function(e){t.DialogVisible=e}}},[i("el-form",{ref:"addFormDialog",attrs:{rules:t.addFormRules,model:t.addForm,inline:!0,"label-width":"100px"}},[i("el-form-item",{attrs:{prop:"auto",label:"广告组名称"}},[i("el-input",{model:{value:t.addForm.auto,callback:function(e){t.$set(t.addForm,"auto",e)},expression:"addForm.auto"}})],1),t._v(" "),i("el-form-item",{attrs:{prop:"country",label:"国家"}},[i("el-input",{attrs:{readonly:""},model:{value:t.addForm.country,callback:function(e){t.$set(t.addForm,"country",e)},expression:"addForm.country"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"站点",prop:"company"}},[i("el-input",{attrs:{readonly:""},model:{value:t.addForm.company,callback:function(e){t.$set(t.addForm,"company",e)},expression:"addForm.company"}})],1),t._v(" "),i("el-form-item",{attrs:{prop:"type",label:"广告组类型"}},[i("el-select",{model:{value:t.addForm.type,callback:function(e){t.$set(t.addForm,"type",e)},expression:"addForm.type"}},[i("el-option",{attrs:{label:"手动",value:"手动"}}),t._v(" "),i("el-option",{attrs:{label:"自动",value:"自动"}})],1)],1),t._v(" "),i("el-form-item",{attrs:{prop:"spu",label:"spu名称"}},[i("el-input",{attrs:{placeholder:"多个spu请以英文,分割"},model:{value:t.addForm.spu,callback:function(e){t.$set(t.addForm,"spu",e)},expression:"addForm.spu"}})],1),t._v(" "),i("el-form-item",{staticClass:"lastBtnGroup"},[i("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.addSubmit("addFormDialog")}}},[t._v("提 交")]),t._v(" "),i("el-button",{attrs:{type:"warning"},on:{click:t.addReset}},[t._v("重 置")])],1)],1)],1),t._v(" "),i("el-dialog",{attrs:{title:"编辑",visible:t.DialogVisible1,"close-on-click-modal":!1,width:"20%",center:""},on:{"update:visible":function(e){t.DialogVisible1=e}}},[i("el-form",{ref:"editFormDialog",attrs:{rules:t.editFormRules,model:t.editForm,inline:!0,"label-width":"100px"}},[i("el-form-item",{attrs:{prop:"auto",label:"广告组名称"}},[i("el-input",{model:{value:t.editForm.auto,callback:function(e){t.$set(t.editForm,"auto",e)},expression:"editForm.auto"}})],1),t._v(" "),i("el-form-item",{attrs:{prop:"country",label:"国家"}},[i("el-input",{attrs:{readonly:""},model:{value:t.editForm.country,callback:function(e){t.$set(t.editForm,"country",e)},expression:"editForm.country"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"站点",prop:"company"}},[i("el-input",{attrs:{readonly:""},model:{value:t.editForm.company,callback:function(e){t.$set(t.editForm,"company",e)},expression:"editForm.company"}})],1),t._v(" "),i("el-form-item",{attrs:{prop:"type",label:"广告组类型"}},[i("el-select",{model:{value:t.editForm.type,callback:function(e){t.$set(t.editForm,"type",e)},expression:"editForm.type"}},[i("el-option",{attrs:{label:"手动",value:"手动"}}),t._v(" "),i("el-option",{attrs:{label:"自动",value:"自动"}})],1)],1),t._v(" "),i("el-form-item",{attrs:{prop:"spu",label:"spu名称"}},[i("el-input",{model:{value:t.editForm.spu,callback:function(e){t.$set(t.editForm,"spu",e)},expression:"editForm.spu"}})],1),t._v(" "),i("el-form-item",{staticClass:"lastBtnGroup"},[i("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.editSubmit("editFormDialog")}}},[t._v("保 存")]),t._v(" "),i("el-button",{attrs:{type:"warning"},on:{click:t.editReset}},[t._v("重 置")])],1)],1)],1),t._v(" "),i("el-dialog",{attrs:{title:"提示",visible:t.deleteVisible,width:"30%"},on:{"update:visible":function(e){t.deleteVisible=e}}},[i("span",[t._v("确认删除？")]),t._v(" "),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(e){t.deleteVisible=!1}}},[t._v("取 消")]),t._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:t.deleteSubmit}},[t._v("确 定")])],1)])],1)])},staticRenderFns:[]};var n=i("VU/8")(a,s,!1,function(t){i("jWla"),i("k/qn"),i("hNoO")},"data-v-2b56c477",null);e.default=n.exports},hNoO:function(t,e){},jWla:function(t,e){},"k/qn":function(t,e){}});
//# sourceMappingURL=19.05fbb87bdfa578bffe1b.js.map