webpackJsonp([102],{"+B5G":function(t,e){},BBuZ:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var l=a("mtWM"),n=a.n(l),r={data:function(){return{factory:"合迪",factoryList:[],date:"",page:1,total:0,tableData:[],tableAllNum:[]}},methods:{getTableData:function(){var t=this;n()({url:this._url2+"server/stock_management/daily_inventory/",method:"get",params:{page:this.page,date:this.date,factory:this.factory}}).then(function(e){console.log(e),t.tableData=e.data.data,t.total=e.data.count_data[0].count_num/5;for(var a=0,l=0,n=0,r=0,_=0,u=0,v=0;v<t.tableData.length;v++)a+=Number(t.tableData[v].distribution_num),l+=Number(t.tableData[v].produce_num),n+=Number(t.tableData[v].no_produce),r+=Number(t.tableData[v].stock_num),_+=Number(t.tableData[v].sum_delivery),u+=Number(t.tableData[v].avg_delivery);t.tableAllNum[0]=a,t.tableAllNum[1]=l,t.tableAllNum[2]=n,t.tableAllNum[3]=r,t.tableAllNum[4]=_,t.tableAllNum[5]=u})},searchData:function(){this.page=1,this.getTableData()},handleCurrentChange:function(t){this.page=t,this.getTableData()}},created:function(){var t=this,e=new Date,a=e.getFullYear(),l=e.getMonth()+1,r=e.getDate();l>=1&&l<=9&&(l="0"+l),r>=0&&r<=9&&(r="0"+r);var _=a+"-"+l+"-"+r;this.date=_,this.getTableData(),n()({url:this._url2+"server/stock_management/get_order_distribution_supplier/",method:"get"}).then(function(e){console.log(e);for(var a=0;a<e.data.data.length;a++){var l={label:e.data.data[a][0],value:e.data.data[a][0]};t.factoryList.push(l)}})}},_={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{background:"rgba(255, 255, 255, 0.9)",padding:"2vh 0 0 0",height:"86vh",margin:"2vh 10vw"}},[a("div",{staticStyle:{"text-align":"center"}},[t._v("\n    选择工厂：\n    "),a("el-select",{attrs:{placeholder:"请选择"},on:{change:function(e){return t.searchData()}},model:{value:t.factory,callback:function(e){t.factory=e},expression:"factory"}},t._l(t.factoryList,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1),t._v("\n    选择日期：\n    "),a("el-date-picker",{attrs:{format:"yyyy 年 MM 月 dd 日","value-format":"yyyy-MM-dd",type:"date",placeholder:"选择日期"},on:{change:function(e){return t.searchData()}},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}})],1),t._v(" "),a("table",[t._m(0),t._v(" "),a("tbody",[t._l(t.tableData,function(e,l){return a("tr",{key:l},[a("td",[t._v(t._s(l+1))]),t._v(" "),a("td",[t._v(t._s(e.product_code))]),t._v(" "),a("td",[t._v(t._s(e.product_name))]),t._v(" "),a("td",[t._v(t._s(e.distribution_num?e.distribution_num:0))]),t._v(" "),a("td",[t._v(t._s(e.produce_num?e.produce_num:0))]),t._v(" "),a("td",[t._v(t._s(e.no_produce?e.no_produce:0))]),t._v(" "),a("td",[t._v(t._s(e.stock_num?e.stock_num:0))]),t._v(" "),a("td",[t._v(t._s(e.sum_delivery?e.sum_delivery:0))]),t._v(" "),a("td",[t._v(t._s(e.avg_delivery?e.avg_delivery:0))])])}),t._v(" "),a("tr",[a("td",[t._v("合计")]),t._v(" "),a("td"),t._v(" "),a("td"),t._v(" "),a("td",[t._v(t._s(t.tableAllNum[0]))]),t._v(" "),a("td",[t._v(t._s(t.tableAllNum[1]))]),t._v(" "),a("td",[t._v(t._s(t.tableAllNum[2]))]),t._v(" "),a("td",[t._v(t._s(t.tableAllNum[3]))]),t._v(" "),a("td",[t._v(t._s(t.tableAllNum[4]))]),t._v(" "),a("td",[t._v(t._s(t.tableAllNum[5]))])])],2)]),t._v(" "),a("el-pagination",{staticStyle:{margin:"15px 37%"},attrs:{background:"","current-page":t.page,layout:"prev, pager, next, jumper",total:t.total},on:{"current-change":t.handleCurrentChange}})],1)},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[t._v("序号")]),t._v(" "),a("th",[t._v("货号")]),t._v(" "),a("th",[t._v("品名")]),t._v(" "),a("th",[t._v("本月订单分配量")]),t._v(" "),a("th",[t._v("今日产量")]),t._v(" "),a("th",[t._v("今月未生产")]),t._v(" "),a("th",[t._v("当月库存")]),t._v(" "),a("th",[t._v("当月已发货")]),t._v(" "),a("th",[t._v("标准日产量")])])])}]};var u=a("VU/8")(r,_,!1,function(t){a("+B5G")},"data-v-07151271",null);e.default=u.exports}});
//# sourceMappingURL=102.84f50c7e952567049d1e.js.map