webpackJsonp([57],{bo7U:function(t,e){},t5xL:function(t,e){},ue3w:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o,n=a("bOdI"),r=a.n(n),s={computed:{alink:function(){var t="";switch(this.supplier){case"DHL":t="https://track.dhlparcel.co.uk/";break;case"UPS":t=" https://www.ups.com/track?loc=en_CN&requester=ST/";break;case"DPD":t="https://tracking.dpd.de/status/gb_GB/404";break;case"GLS":t="https://gls-group.eu/GROUP/en/parcel-tracking";break;case"FedEx":t="https://www.fedex.com/zh-cn/home.html"}return t}},data:function(){return{copyClick:!1,str:"",dialogVisible1:!1,order_details:[],flag:!1,supplier:"",tracking_no:"",orderId:"",msg:"",loading:!1,currentPage:1,totalNum:0,formData:{channel:"",station:"",country:"",warehouse_name:"",date:"",warehouse:"",logistic_supplier:"",question_type:"",question_reason:""},tableData:[],channels:[],stations:[],countries:[],warehouse_names:[],warehouses:[],logistic_suppliers:[],question_types:[],question_reasons:[],allSelectData:[],otherList:[],due_dialogVisible:!1,currentDueOrder:"",country:"",station:"",curIndex:""}},methods:(o={copyColData:function(){(this.copyClick=!this.copyClick,this.copyClick)&&(document.querySelector(".copyCol>input").select(),document.execCommand("Copy"))},cellStyle:function(t){t.row,t.column,t.rowIndex;if(5===t.columnIndex)return{color:"blue",cursor:"pointer",textDecoration:"underline"}},showOrderInfo:function(t,e){if(console.log(t),"追踪编号"===e.label){this.dialogVisible1=!0,this.orderId=t.Amazon_id,this.supplier=t.logistic_supplier,this.tracking_no=t.tracking_no;var a=t.logistics_information.replace(/\'/g,'"');for(var o in a=JSON.parse(a)){var n={};n.time=a[o].time,n.content=a[o].status+a[o].place_name,this.$set(this.order_details,o,n)}this.order_details.length>0?this.flag=!0:this.flag=!1}},clickSpan:function(t,e){console.log(t,e),this.curIndex=t,this.formData.question_type=this.question_types[t],this.search()},clearSearch:function(){for(var t in this.formData)this.formData[t]=""},showDialog:function(t){this.currentDueOrder=t,this.due_dialogVisible=!0},handleCommand_channel:function(t){this.formData.channel=t},handleCommand_country:function(t){this.formData.country=t,this.changeOpt()},handleCommand_station:function(t){this.formData.station=t},handleCommand_warehousename:function(t){this.formData.warehouse_name=t},handleCommand_warehouse:function(t){this.formData.warehouse=t},handleCommand_logisticsupplier:function(t){this.formData.logistic_supplier=t},handleCommand_question_type:function(t){this.formData.question_type=t},handleCommand_question_reason:function(t){this.formData.question_reason=t},dueOrder:function(){this.$axios.put(this._url2+"server/order_management/get_timeout_order/",{id:this.currentDueOrder.id}).then(function(t){200===t.data.code?location.reload():alert("请求未成功")})},go_route:function(t){this.$router.push(t)},changePage:function(t){this.currentPage=t,this.getAllSelect()},indexMethod:function(t){return t+1+50*(this.currentPage-1)},getSelect:function(){var t=this;this.$axios.get(this._url2+"server/personnel_management/get_sign_country/").then(function(e){t.channels.push(e.data.data1),t.formData.channel=t.channels[0],t.countries=e.data.data,t.formData.country=t.countries[0],t.changeOpt(t.getAllSelect)});this.$axios.get(this._url2+"server/order_management/get_search_data/").then(function(e){t.otherList=e.data.warehouse_list,t.question_types=e.data.question_type_list,t.question_reasons=e.data.question_reason_list})},initCopy:function(){for(var t in this.str="",this.tableData){var e=this.tableData[t];for(var a in e)"tracking_no"===a&&(this.str+=e[a]+",")}this.str=this.str.replace(/\,+$/g,""),console.log("订单追踪编码",this.str)},getAllSelect:function(){var t=this;this.loading=!0;var e={};for(var a in this.formData)e[a]=this.formData[a];e.page=this.currentPage,this.$axios.get(this._url2+"server/order_management/get_timeout_order/",{params:e}).then(function(e){if(t.tableData=e.data.data,t.$nextTick(function(){t.$refs.overdueTable.bodyWrapper.scrollTop=0}),t.copyClick=!1,t.initCopy(),t.totalNum=e.data.re_count_data[0].count_id,t.loading=!1,t.tableData.length>0){var a=t.tableData[0];t.country=a.country,t.station=a.station}})},changeOpt:function(t){var e=this;if(this.stations=[],this.formData.station="",this.warehouse_names=[],this.formData.warehouse_name="",""!==this.formData.country){var a=this._url2+"server/personnel_management/get_sign_area/";this.$axios.get(a,{params:{country:this.formData.country}}).then(function(a){e.stations=a.data.data,e.formData.station=e.stations[0],t&&"function"==typeof t&&t()}),this.otherList.forEach(function(t){t.country===e.formData.country&&e.warehouse_names.push(t.warehouse_name)})}}},r()(o,"go_route",function(t){this.$router.push(t)}),r()(o,"search",function(){var t=this;this.currentPage=1;var e={};for(var a in this.formData){var o=this.formData[a];e[a]=o}this.$axios.get(this._url2+"server/order_management/get_timeout_order/",{params:e}).then(function(e){if(t.tableData=e.data.data||[],t.totalNum=e.data.re_count_data[0].count_id,t.$nextTick(function(){t.$refs.overdueTable.bodyWrapper.scrollTop=0}),t.tableData.length>0){t.copyClick=!1,t.initCopy(),console.log(t.tableData);var a=t.tableData[0];t.country=a.country,t.station=a.station}})}),o),created:function(){this.getSelect()}},i={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"overdue"},[a("div",{staticClass:"left_menu"},[a("el-form",{attrs:{model:t.formData}},[a("el-form-item",{attrs:{label:"渠道"}},[a("el-dropdown",{staticClass:"overdue_dropdown",on:{command:t.handleCommand_channel}},[a("div",[a("el-input",{attrs:{placeholder:"请选择渠道"},model:{value:t.formData.channel,callback:function(e){t.$set(t.formData,"channel",e)},expression:"formData.channel"}}),t._v(" "),a("i",{staticClass:"el-icon-arrow-down el-icon--right"})],1),t._v(" "),a("el-dropdown-menu",{staticClass:"overdue_dropdownmenu",attrs:{slot:"dropdown"},slot:"dropdown"},t._l(t.channels,function(e,o){return a("el-dropdown-item",{key:o,attrs:{command:e}},[t._v(t._s(e))])}),1)],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"国家"}},[a("el-dropdown",{staticClass:"overdue_dropdown",on:{command:t.handleCommand_country}},[a("div",[a("el-input",{attrs:{placeholder:"请选择国家"},model:{value:t.formData.country,callback:function(e){t.$set(t.formData,"country",e)},expression:"formData.country"}}),t._v(" "),a("i",{staticClass:"el-icon-arrow-down el-icon--right"})],1),t._v(" "),a("el-dropdown-menu",{staticClass:"overdue_dropdownmenu",attrs:{slot:"dropdown"},slot:"dropdown"},t._l(t.countries,function(e,o){return a("el-dropdown-item",{key:o,attrs:{command:e}},[t._v(t._s(e))])}),1)],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"站点"}},[a("el-dropdown",{staticClass:"overdue_dropdown",on:{command:t.handleCommand_station}},[a("div",[a("el-input",{attrs:{placeholder:"请选择站点"},model:{value:t.formData.station,callback:function(e){t.$set(t.formData,"station",e)},expression:"formData.station"}}),t._v(" "),a("i",{staticClass:"el-icon-arrow-down el-icon--right"})],1),t._v(" "),a("el-dropdown-menu",{staticClass:"overdue_dropdownmenu",attrs:{slot:"dropdown"},slot:"dropdown"},t._l(t.stations,function(e,o){return a("el-dropdown-item",{key:o,attrs:{command:e}},[t._v(t._s(e))])}),1)],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"仓库名"}},[a("el-dropdown",{staticClass:"overdue_dropdown",on:{command:t.handleCommand_warehousename}},[a("div",[a("el-input",{attrs:{placeholder:"请选择仓库名"},model:{value:t.formData.warehouse_name,callback:function(e){t.$set(t.formData,"warehouse_name",e)},expression:"formData.warehouse_name"}}),t._v(" "),a("i",{staticClass:"el-icon-arrow-down el-icon--right"})],1),t._v(" "),a("el-dropdown-menu",{staticClass:"overdue_dropdownmenu",attrs:{slot:"dropdown"},slot:"dropdown"},t._l(t.warehouse_names,function(e,o){return a("el-dropdown-item",{key:o,attrs:{command:e}},[t._v(t._s(e))])}),1)],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"时间"}},[a("el-date-picker",{attrs:{"value-format":"yyyy-MM-dd",type:"date",placeholder:"选择日期"},model:{value:t.formData.date,callback:function(e){t.$set(t.formData,"date",e)},expression:"formData.date"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"海外仓"}},[a("el-dropdown",{staticClass:"overdue_dropdown",on:{command:t.handleCommand_warehouse}},[a("div",[a("el-input",{attrs:{placeholder:"请选择海外仓"},model:{value:t.formData.warehouse,callback:function(e){t.$set(t.formData,"warehouse",e)},expression:"formData.warehouse"}}),t._v(" "),a("i",{staticClass:"el-icon-arrow-down el-icon--right"})],1),t._v(" "),a("el-dropdown-menu",{staticClass:"overdue_dropdownmenu",attrs:{slot:"dropdown"},slot:"dropdown"},t._l(t.warehouses,function(e,o){return a("el-dropdown-item",{key:o,attrs:{command:e}},[t._v(t._s(e))])}),1)],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"快递商"}},[a("el-dropdown",{staticClass:"overdue_dropdown",on:{command:t.handleCommand_logisticsupplier}},[a("div",[a("el-input",{attrs:{placeholder:"请选择仓库"},model:{value:t.formData.logistic_supplier,callback:function(e){t.$set(t.formData,"logistic_supplier",e)},expression:"formData.logistic_supplier"}}),t._v(" "),a("i",{staticClass:"el-icon-arrow-down el-icon--right"})],1),t._v(" "),a("el-dropdown-menu",{staticClass:"overdue_dropdownmenu",attrs:{slot:"dropdown"},slot:"dropdown"},t._l(t.logistic_suppliers,function(e,o){return a("el-dropdown-item",{key:o,attrs:{command:e}},[t._v(t._s(e))])}),1)],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"订单号"}},[a("el-input",{attrs:{placeholder:"请输入订单号"},model:{value:t.formData.Amazon_id,callback:function(e){t.$set(t.formData,"Amazon_id",e)},expression:"formData.Amazon_id"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"问题归因"}},[a("el-dropdown",{staticClass:"overdue_dropdown",on:{command:t.handleCommand_question_reason}},[a("div",[a("el-input",{attrs:{placeholder:"请选择问题归因"},model:{value:t.formData.question_reason,callback:function(e){t.$set(t.formData,"question_reason",e)},expression:"formData.question_reason"}}),t._v(" "),a("i",{staticClass:"el-icon-arrow-down el-icon--right"})],1),t._v(" "),a("el-dropdown-menu",{staticClass:"overdue_dropdownmenu",attrs:{slot:"dropdown"},slot:"dropdown"},t._l(t.question_reasons,function(e,o){return a("el-dropdown-item",{key:o,attrs:{command:e}},[t._v(t._s(e))])}),1)],1)],1),t._v(" "),a("el-form-item",[a("el-button",{staticClass:"search",attrs:{type:"primary"},on:{click:t.search}},[t._v("搜索")])],1),t._v(" "),a("el-form-item",[a("el-button",{staticClass:"search",attrs:{type:"primary"},on:{click:t.clearSearch}},[t._v("清空选项")])],1)],1)],1),t._v(" "),a("div",{staticClass:"right_con"},[this.country?a("div",{staticClass:"site_div",staticStyle:{color:"#fff"}},[a("span",[t._v("国家："+t._s(t.country))]),t._v(" "),a("span",[t._v("站点："+t._s(t.station))])]):t._e(),t._v(" "),a("div",{staticClass:"spanBlock",staticStyle:{"font-size":"14px",background:"#fff"}},[t._l(t.question_types,function(e,o){return a("span",{key:o,class:["status"+o,{clickSpan:t.curIndex===o}],on:{click:function(a){return t.clickSpan(o,e)}}},[t._v("\n        "+t._s(e)+"\n      ")])}),t._v(" "),a("span",{class:["copyCol",{copyActive:!!t.copyClick}],staticStyle:{position:"relative"},on:{click:t.copyColData}},[t._v("点击复制追踪编码列\n        "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.str,expression:"str"}],staticStyle:{position:"absolute",top:"0",left:"0",opacity:"0","z-index":"-999"},attrs:{type:"text"},domProps:{value:t.str},on:{input:function(e){e.target.composing||(t.str=e.target.value)}}})])],2),t._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],ref:"overdueTable",staticStyle:{width:"100%"},attrs:{"highlight-current-row":"","cell-style":t.cellStyle,border:"",data:t.tableData,"element-loading-text":"拼命加载中","element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(0, 0, 0, 0.3)","max-height":"700"},on:{"cell-click":t.showOrderInfo}},[a("el-table-column",{attrs:{type:"index",label:"序号",width:"60",index:t.indexMethod}}),t._v(" "),a("el-table-column",{attrs:{prop:"dates",label:"下单日期",width:"160"}}),t._v(" "),a("el-table-column",{attrs:{prop:"Amazon_id",label:"订单号",width:"180"}}),t._v(" "),a("el-table-column",{attrs:{prop:"warehouse_name",label:"仓库名称",width:"100"}}),t._v(" "),a("el-table-column",{attrs:{prop:"logistic_supplier",label:"快递商",width:"100"}}),t._v(" "),a("el-table-column",{attrs:{prop:"tracking_no",label:"追踪编号",width:"180"}}),t._v(" "),a("el-table-column",{attrs:{prop:"sku",label:"sku",width:"180"}}),t._v(" "),a("el-table-column",{attrs:{prop:"question_type",label:"问题类型",width:"100"}}),t._v(" "),a("el-table-column",{attrs:{prop:"all_days",label:"实际用时",width:"120"}}),t._v(" "),a("el-table-column",{attrs:{prop:"actual_date",label:"实际到达日期",width:"160"}}),t._v(" "),a("el-table-column",{attrs:{prop:"expected_date",label:"预计送达日期",width:"160"}}),t._v(" "),a("el-table-column",{attrs:{prop:"overtime_time",label:"超时时间",width:"140"}}),t._v(" "),a("el-table-column",{attrs:{prop:"question_reason",label:"问题归因",width:"100"}}),t._v(" "),a("el-table-column",{attrs:{label:"状态",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){return t.showDialog(e.row)}}},[t._v("未处理")])]}}])})],1),t._v(" "),a("el-pagination",{attrs:{"current-page":t.currentPage,"page-size":50,layout:"total, prev, pager, next,jumper",total:t.totalNum},on:{"current-change":t.changePage,"update:currentPage":function(e){t.currentPage=e},"update:current-page":function(e){t.currentPage=e}}}),t._v(" "),a("el-dialog",{staticClass:"orderQuery",attrs:{title:"订单查询",visible:t.dialogVisible1,width:"40%"},on:{"update:visible":function(e){t.dialogVisible1=e}}},[a("div",{staticClass:"orderquery",staticStyle:{background:"rgba(255, 255, 255, 0.9)"},attrs:{id:"orderquery"}},[a("div",{staticClass:"topMenu"},[a("el-form",{staticClass:"demo-form-inline",attrs:{"label-width":"100px",inline:!0}},[a("el-form-item",{attrs:{label:"跟踪编号"}},[a("el-input",{attrs:{disabled:!0},model:{value:t.tracking_no,callback:function(e){t.tracking_no=e},expression:"tracking_no"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"物流仓"}},[a("el-input",{attrs:{disabled:!0},model:{value:t.supplier,callback:function(e){t.supplier=e},expression:"supplier"}})],1)],1),t._v(" "),a("div",{staticClass:"links",staticStyle:{"padding-bottom":"10px","text-indent":"7em"}},[a("a",{staticStyle:{color:"blue","text-decoration":"underline"},attrs:{href:"https://www.17track.net/zh-cn/",target:"_blank"}},[t._v("点击前往17")]),t._v(" "),a("a",{staticStyle:{color:"blue","text-decoration":"underline"},attrs:{href:t.alink,target:"_blank"}},[t._v("点击前往官网")])])],1),t._v(" "),a("div",{staticClass:"detail",staticStyle:{"max-height":"500px",overflow:"auto","padding-left":"95px"}},[a("label",[t._v("订单详情")]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.flag,expression:"flag"}],staticClass:"orderdetail"},[a("el-steps",{attrs:{space:"30",direction:"vertical"}},t._l(t.order_details,function(t,e){return a("el-step",{key:e,attrs:{icon:"el-icon-circle-check",status:"process",title:t.time,description:t.content}})}),1)],1),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:!t.flag,expression:"!flag"}]},[a("p",[t._v(t._s(t.msg))])])])])])],1),t._v(" "),a("el-dialog",{attrs:{title:"提示",visible:t.due_dialogVisible,width:"30%"},on:{"update:visible":function(e){t.due_dialogVisible=e}}},[a("span",[t._v("是否确认提交此未处理订单")]),t._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogVisible=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.dueOrder}},[t._v("确 定")])],1)])],1)},staticRenderFns:[]};var l=a("VU/8")(s,i,!1,function(t){a("bo7U"),a("t5xL")},"data-v-04320a22",null);e.default=l.exports}});
//# sourceMappingURL=57.4af4d986d0f2f5121001.js.map